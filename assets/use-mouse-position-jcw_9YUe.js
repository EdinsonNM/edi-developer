import{e as ri,r as Et,j as Fr}from"./index-qwU05Jbr.js";var Zt={},Lr={exports:{}};(function(Me,O){(function(Qe,Re){Me.exports=Re()})(ri,()=>(()=>{var ke=[,(le,q,Q)=>{Q.r(q),Q.d(q,{default:()=>ae});var ee=(()=>{var se=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0;return function(H={}){var c=H,Le,Oe;c.ready=new Promise((e,t)=>{Le=e,Oe=t});function Ge(){function e(d){const m=o;r=t=0,o=new Map,m.forEach(b=>{try{b(d)}catch(v){console.error(v)}}),this.pb(),s&&s.Tb()}let t=0,r=0,o=new Map,s=null,l=null;this.requestAnimationFrame=function(d){t||(t=requestAnimationFrame(e.bind(this)));const m=++r;return o.set(m,d),m},this.cancelAnimationFrame=function(d){o.delete(d),t&&o.size==0&&(cancelAnimationFrame(t),t=0)},this.Rb=function(d){l&&(document.body.remove(l),l=null),d||(l=document.createElement("div"),l.style.backgroundColor="black",l.style.position="fixed",l.style.right=0,l.style.top=0,l.style.color="white",l.style.padding="4px",l.innerHTML="RIVE FPS",d=function(m){l.innerHTML="RIVE FPS "+m.toFixed(1)},document.body.appendChild(l)),s=new function(){let m=0,b=0;this.Tb=function(){var v=performance.now();b?(++m,v-=b,1e3<v&&(d(1e3*m/v),m=b=0)):(b=v,m=0)}}},this.Ob=function(){l&&(document.body.remove(l),l=null),s=null},this.pb=function(){}}function we(e){console.assert(!0);const t=new Map;let r=-1/0;this.push=function(o){return o=o+((1<<e)-1)>>e,t.has(o)&&clearTimeout(t.get(o)),t.set(o,setTimeout(function(){t.delete(o),t.length==0?r=-1/0:o==r&&(r=Math.max(...t.keys()),console.assert(r<o))},1e3)),r=Math.max(o,r),r<<e}}const be=c.onRuntimeInitialized;c.onRuntimeInitialized=function(){be&&be();let e=c.decodeAudio;c.decodeAudio=function(s,l){s=e(s),l(s)};let t=c.decodeFont;c.decodeFont=function(s,l){s=t(s),l(s)};const r=c.FileAssetLoader;c.ptrToAsset=s=>{let l=c.ptrToFileAsset(s);return l.isImage?c.ptrToImageAsset(s):l.isFont?c.ptrToFontAsset(s):l.isAudio?c.ptrToAudioAsset(s):l},c.CustomFileAssetLoader=r.extend("CustomFileAssetLoader",{__construct:function({loadContents:s}){this.__parent.__construct.call(this),this.Gb=s},loadContents:function(s,l){return s=c.ptrToAsset(s),this.Gb(s,l)}}),c.CDNFileAssetLoader=r.extend("CDNFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this)},loadContents:function(s){let l=c.ptrToAsset(s);return s=l.cdnUuid,s===""?!1:(function(d,m){var b=new XMLHttpRequest;b.responseType="arraybuffer",b.onreadystatechange=function(){b.readyState==4&&b.status==200&&m(b)},b.open("GET",d,!0),b.send(null)}(l.cdnBaseUrl+"/"+s,d=>{l.decode(new Uint8Array(d.response))}),!0)}}),c.FallbackFileAssetLoader=r.extend("FallbackFileAssetLoader",{__construct:function(){this.__parent.__construct.call(this),this.lb=[]},addLoader:function(s){this.lb.push(s)},loadContents:function(s,l){for(let d of this.lb)if(d.loadContents(s,l))return!0;return!1}});let o=c.computeAlignment;c.computeAlignment=function(s,l,d,m,b=1){return o.call(this,s,l,d,m,b)}};const We="createConicGradient createImageData createLinearGradient createPattern createRadialGradient getContextAttributes getImageData getLineDash getTransform isContextLost isPointInPath isPointInStroke measureText".split(" "),Ae=new function(){function e(){if(!t){let ne=function(ie,x,Ee){if(x=I.createShader(x),I.shaderSource(x,Ee),I.compileShader(x),Ee=I.getShaderInfoLog(x),0<(Ee||"").length)throw Ee;I.attachShader(ie,x)};var p=document.createElement("canvas"),P={alpha:1,depth:0,stencil:0,antialias:0,premultipliedAlpha:1,preserveDrawingBuffer:0,powerPreference:"high-performance",failIfMajorPerformanceCaveat:0,enableExtensionsByDefault:1,explicitSwapControl:1,renderViaOffscreenBackBuffer:1};let I;if(/iPhone|iPad|iPod/i.test(navigator.userAgent)){if(I=p.getContext("webgl",P),r=1,!I)return console.log("No WebGL support. Image mesh will not be drawn."),!1}else if(I=p.getContext("webgl2",P))r=2;else if(I=p.getContext("webgl",P))r=1;else return console.log("No WebGL support. Image mesh will not be drawn."),!1;if(I=new Proxy(I,{get(ie,x){if(ie.isContextLost()){if(b||(console.error("Cannot render the mesh because the GL Context was lost. Tried to invoke ",x),b=!0),typeof ie[x]=="function")return function(){}}else return typeof ie[x]=="function"?function(...Ee){return ie[x].apply(ie,Ee)}:ie[x]},set(ie,x,Ee){if(ie.isContextLost())b||(console.error("Cannot render the mesh because the GL Context was lost. Tried to set property "+x),b=!0);else return ie[x]=Ee,!0}}),o=Math.min(I.getParameter(I.MAX_RENDERBUFFER_SIZE),I.getParameter(I.MAX_TEXTURE_SIZE)),p=I.createProgram(),ne(p,I.VERTEX_SHADER,`attribute vec2 vertex;
                attribute vec2 uv;
                uniform vec4 mat;
                uniform vec2 translate;
                varying vec2 st;
                void main() {
                    st = uv;
                    gl_Position = vec4(mat2(mat) * vertex + translate, 0, 1);
                }`),ne(p,I.FRAGMENT_SHADER,`precision highp float;
                uniform sampler2D image;
                varying vec2 st;
                void main() {
                    gl_FragColor = texture2D(image, st);
                }`),I.bindAttribLocation(p,0,"vertex"),I.bindAttribLocation(p,1,"uv"),I.linkProgram(p),P=I.getProgramInfoLog(p),0<(P||"").trim().length)throw P;s=I.getUniformLocation(p,"mat"),l=I.getUniformLocation(p,"translate"),I.useProgram(p),I.bindBuffer(I.ARRAY_BUFFER,I.createBuffer()),I.enableVertexAttribArray(0),I.enableVertexAttribArray(1),I.bindBuffer(I.ELEMENT_ARRAY_BUFFER,I.createBuffer()),I.uniform1i(I.getUniformLocation(p,"image"),0),I.pixelStorei(I.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),t=I}return!0}let t=null,r=0,o=0,s=null,l=null,d=0,m=0,b=!1;e(),this.hc=function(){return e(),o},this.Mb=function(p){t.deleteTexture&&t.deleteTexture(p)},this.Lb=function(p){if(!e())return null;const P=t.createTexture();return P?(t.bindTexture(t.TEXTURE_2D,P),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,p),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),r==2?(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR_MIPMAP_LINEAR),t.generateMipmap(t.TEXTURE_2D)):t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),P):null};const v=new we(8),F=new we(8),S=new we(10),D=new we(10);this.Qb=function(p,P,I,ne,ie){if(e()){var x=v.push(p),Ee=F.push(P);if(t.canvas){(t.canvas.width!=x||t.canvas.height!=Ee)&&(t.canvas.width=x,t.canvas.height=Ee),t.viewport(0,Ee-P,p,P),t.disable(t.SCISSOR_TEST),t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT),t.enable(t.SCISSOR_TEST),I.sort((de,vt)=>vt.xb-de.xb),x=S.push(ne),d!=x&&(t.bufferData(t.ARRAY_BUFFER,8*x,t.DYNAMIC_DRAW),d=x),x=0;for(var $e of I)t.bufferSubData(t.ARRAY_BUFFER,x,$e.Ua),x+=4*$e.Ua.length;console.assert(x==4*ne);for(var pt of I)t.bufferSubData(t.ARRAY_BUFFER,x,pt.Db),x+=4*pt.Db.length;console.assert(x==8*ne),x=D.push(ie),m!=x&&(t.bufferData(t.ELEMENT_ARRAY_BUFFER,2*x,t.DYNAMIC_DRAW),m=x),$e=0;for(var Lt of I)t.bufferSubData(t.ELEMENT_ARRAY_BUFFER,$e,Lt.indices),$e+=2*Lt.indices.length;console.assert($e==2*ie),Lt=0,pt=!0,x=$e=0;for(const de of I){de.image.Ka!=Lt&&(t.bindTexture(t.TEXTURE_2D,de.image.Ja||null),Lt=de.image.Ka),de.mc?(t.scissor(de.Za,Ee-de.$a-de.kb,de.Ac,de.kb),pt=!0):pt&&(t.scissor(0,Ee-P,p,P),pt=!1),I=2/p;const vt=-2/P;t.uniform4f(s,de.ha[0]*I*de.Ba,de.ha[1]*vt*de.Ca,de.ha[2]*I*de.Ba,de.ha[3]*vt*de.Ca),t.uniform2f(l,de.ha[4]*I*de.Ba+I*(de.Za-de.ic*de.Ba)-1,de.ha[5]*vt*de.Ca+vt*(de.$a-de.jc*de.Ca)+1),t.vertexAttribPointer(0,2,t.FLOAT,!1,0,x),t.vertexAttribPointer(1,2,t.FLOAT,!1,0,x+4*ne),t.drawElements(t.TRIANGLES,de.indices.length,t.UNSIGNED_SHORT,$e),x+=4*de.Ua.length,$e+=2*de.indices.length}console.assert(x==4*ne),console.assert($e==2*ie)}}},this.canvas=function(){return e()&&t.canvas}},Ie=c.onRuntimeInitialized;c.onRuntimeInitialized=function(){function e(E){switch(E){case v.srcOver:return"source-over";case v.screen:return"screen";case v.overlay:return"overlay";case v.darken:return"darken";case v.lighten:return"lighten";case v.colorDodge:return"color-dodge";case v.colorBurn:return"color-burn";case v.hardLight:return"hard-light";case v.softLight:return"soft-light";case v.difference:return"difference";case v.exclusion:return"exclusion";case v.multiply:return"multiply";case v.hue:return"hue";case v.saturation:return"saturation";case v.color:return"color";case v.luminosity:return"luminosity"}}function t(E){return"rgba("+((16711680&E)>>>16)+","+((65280&E)>>>8)+","+((255&E)>>>0)+","+((4278190080&E)>>>24)/255+")"}function r(){0<Ee.length&&(Ae.Qb(x.drawWidth(),x.drawHeight(),Ee,$e,pt),Ee=[],pt=$e=0,x.reset(512,512));for(const E of ie){for(const k of E.H)k();E.H=[]}ie.clear()}Ie&&Ie();var o=c.RenderPaintStyle;const s=c.RenderPath,l=c.RenderPaint,d=c.Renderer,m=c.StrokeCap,b=c.StrokeJoin,v=c.BlendMode,F=o.fill,S=o.stroke,D=c.FillRule.evenOdd;let p=1;var P=c.RenderImage.extend("CanvasRenderImage",{__construct:function({la:E,xa:k}={}){this.__parent.__construct.call(this),this.Ka=p,p=p+1&2147483647||1,this.la=E,this.xa=k},__destruct:function(){this.Ja&&(Ae.Mb(this.Ja),URL.revokeObjectURL(this.Xa)),this.__parent.__destruct.call(this)},decode:function(E){var k=this;k.xa&&k.xa(k);var ue=new Image;k.Xa=URL.createObjectURL(new Blob([E],{type:"image/png"})),ue.onload=function(){k.Fb=ue,k.Ja=Ae.Lb(ue),k.size(ue.width,ue.height),k.la&&k.la(k)},ue.src=k.Xa}}),I=s.extend("CanvasRenderPath",{__construct:function(){this.__parent.__construct.call(this),this.T=new Path2D},rewind:function(){this.T=new Path2D},addPath:function(E,k,ue,he,re,fe,ge){var ye=this.T,lt=ye.addPath;E=E.T;const ze=new DOMMatrix;ze.a=k,ze.b=ue,ze.c=he,ze.d=re,ze.e=fe,ze.f=ge,lt.call(ye,E,ze)},fillRule:function(E){this.Wa=E},moveTo:function(E,k){this.T.moveTo(E,k)},lineTo:function(E,k){this.T.lineTo(E,k)},cubicTo:function(E,k,ue,he,re,fe){this.T.bezierCurveTo(E,k,ue,he,re,fe)},close:function(){this.T.closePath()}}),ne=l.extend("CanvasRenderPaint",{color:function(E){this.Ya=t(E)},thickness:function(E){this.Ib=E},join:function(E){switch(E){case b.miter:this.Ia="miter";break;case b.round:this.Ia="round";break;case b.bevel:this.Ia="bevel"}},cap:function(E){switch(E){case m.butt:this.Ha="butt";break;case m.round:this.Ha="round";break;case m.square:this.Ha="square"}},style:function(E){this.Hb=E},blendMode:function(E){this.Eb=e(E)},clearGradient:function(){this.ja=null},linearGradient:function(E,k,ue,he){this.ja={zb:E,Ab:k,cb:ue,eb:he,Ra:[]}},radialGradient:function(E,k,ue,he){this.ja={zb:E,Ab:k,cb:ue,eb:he,Ra:[],ec:!0}},addStop:function(E,k){this.ja.Ra.push({color:E,stop:k})},completeGradient:function(){},draw:function(E,k,ue){let he=this.Hb;var re=this.Ya,fe=this.ja;if(E.globalCompositeOperation=this.Eb,fe!=null){re=fe.zb;var ge=fe.Ab;const lt=fe.cb;var ye=fe.eb;const ze=fe.Ra;fe.ec?(fe=lt-re,ye-=ge,re=E.createRadialGradient(re,ge,0,re,ge,Math.sqrt(fe*fe+ye*ye))):re=E.createLinearGradient(re,ge,lt,ye);for(let nt=0,He=ze.length;nt<He;nt++)ge=ze[nt],re.addColorStop(ge.stop,t(ge.color));this.Ya=re,this.ja=null}switch(he){case S:E.strokeStyle=re,E.lineWidth=this.Ib,E.lineCap=this.Ha,E.lineJoin=this.Ia,E.stroke(k);break;case F:E.fillStyle=re,E.fill(k,ue)}}});const ie=new Set;let x=null,Ee=[],$e=0,pt=0;var Lt=c.CanvasRenderer=d.extend("Renderer",{__construct:function(E){this.__parent.__construct.call(this),this.S=[1,0,0,1,0,0],this.C=E.getContext("2d"),this.Va=E,this.H=[]},save:function(){this.S.push(...this.S.slice(this.S.length-6)),this.H.push(this.C.save.bind(this.C))},restore:function(){const E=this.S.length-6;if(6>E)throw"restore() called without matching save().";this.S.splice(E),this.H.push(this.C.restore.bind(this.C))},transform:function(E,k,ue,he,re,fe){const ge=this.S,ye=ge.length-6;ge.splice(ye,6,ge[ye]*E+ge[ye+2]*k,ge[ye+1]*E+ge[ye+3]*k,ge[ye]*ue+ge[ye+2]*he,ge[ye+1]*ue+ge[ye+3]*he,ge[ye]*re+ge[ye+2]*fe+ge[ye+4],ge[ye+1]*re+ge[ye+3]*fe+ge[ye+5]),this.H.push(this.C.transform.bind(this.C,E,k,ue,he,re,fe))},rotate:function(E){const k=Math.sin(E);E=Math.cos(E),this.transform(E,k,-k,E,0,0)},_drawPath:function(E,k){this.H.push(k.draw.bind(k,this.C,E.T,E.Wa===D?"evenodd":"nonzero"))},_drawRiveImage:function(E,k,ue,he){var re=E.Fb;if(re){var fe=this.C,ge=e(ue);this.H.push(function(){fe.globalCompositeOperation=ge,fe.globalAlpha=he,fe.drawImage(re,0,0),fe.globalAlpha=1})}},_getMatrix:function(E){const k=this.S,ue=k.length-6;for(let he=0;6>he;++he)E[he]=k[ue+he]},_drawImageMesh:function(E,k,ue,he,re,fe,ge,ye,lt,ze,nt){k=this.C.canvas.width;var He=this.C.canvas.height;const Mr=ze-ye,Rr=nt-lt;ye=Math.max(ye,0),lt=Math.max(lt,0),ze=Math.min(ze,k),nt=Math.min(nt,He);const Jt=ze-ye,Qt=nt-lt;if(console.assert(Jt<=Math.min(Mr,k)),console.assert(Qt<=Math.min(Rr,He)),!(0>=Jt||0>=Qt)){ze=Jt<Mr||Qt<Rr,k=nt=1;var Ot=Math.ceil(Jt*nt),Tt=Math.ceil(Qt*k);He=Ae.hc(),Ot>He&&(nt*=He/Ot,Ot=He),Tt>He&&(k*=He/Tt,Tt=He),x||(x=new c.DynamicRectanizer(He),x.reset(512,512)),He=x.addRect(Ot,Tt),0>He&&(r(),ie.add(this),He=x.addRect(Ot,Tt),console.assert(0<=He));var Er=He&65535,Ir=He>>16;Ee.push({ha:this.S.slice(this.S.length-6),image:E,Za:Er,$a:Ir,ic:ye,jc:lt,Ac:Ot,kb:Tt,Ba:nt,Ca:k,Ua:new Float32Array(re),Db:new Float32Array(fe),indices:new Uint16Array(ge),mc:ze,xb:E.Ka<<1|(ze?1:0)}),$e+=re.length,pt+=ge.length;var Dt=this.C,ni=e(ue);this.H.push(function(){Dt.save(),Dt.resetTransform(),Dt.globalCompositeOperation=ni,Dt.globalAlpha=he;const Pr=Ae.canvas();Pr&&Dt.drawImage(Pr,Er,Ir,Ot,Tt,ye,lt,Jt,Qt),Dt.restore()})}},_clipPath:function(E){this.H.push(this.C.clip.bind(this.C,E.T,E.Wa===D?"evenodd":"nonzero"))},clear:function(){ie.add(this),this.H.push(this.C.clearRect.bind(this.C,0,0,this.Va.width,this.Va.height))},flush:function(){},translate:function(E,k){this.transform(1,0,0,1,E,k)}});c.makeRenderer=function(E){const k=new Lt(E),ue=k.C;return new Proxy(k,{get(he,re){if(typeof he[re]=="function")return function(...fe){return he[re].apply(he,fe)};if(typeof ue[re]=="function"){if(-1<We.indexOf(re))throw Error("RiveException: Method call to '"+re+"()' is not allowed, as the renderer cannot immediately pass through the return                 values of any canvas 2d context methods.");return function(...fe){k.H.push(ue[re].bind(ue,...fe))}}return he[re]},set(he,re,fe){if(re in ue)return k.H.push(()=>{ue[re]=fe}),!0}})},c.decodeImage=function(E,k){new P({la:k}).decode(E)},c.renderFactory={makeRenderPaint:function(){return new ne},makeRenderPath:function(){return new I},makeRenderImage:function(){let E=vt;return new P({xa:()=>{E.total++},la:()=>{if(E.loaded++,E.loaded===E.total){const k=E.ready;k&&(k(),E.ready=null)}}})}};let de=c.load,vt=null;c.load=function(E,k,ue=!0){const he=new c.FallbackFileAssetLoader;return k!==void 0&&he.addLoader(k),ue&&(k=new c.CDNFileAssetLoader,he.addLoader(k)),new Promise(function(re){let fe=null;vt={total:0,loaded:0,ready:function(){re(fe)}},fe=de(E,he),vt.total==0&&re(fe)})};let ti=c.RendererWrapper.prototype.align;c.RendererWrapper.prototype.align=function(E,k,ue,he,re=1){ti.call(this,E,k,ue,he,re)},o=new Ge,c.requestAnimationFrame=o.requestAnimationFrame.bind(o),c.cancelAnimationFrame=o.cancelAnimationFrame.bind(o),c.enableFPSCounter=o.Rb.bind(o),c.disableFPSCounter=o.Ob,o.pb=r,c.resolveAnimationFrame=r,c.cleanup=function(){x&&x.delete()}};var De=Object.assign({},c),Ye="./this.program",ct=typeof window=="object",W=typeof importScripts=="function",T="",f,_;(ct||W)&&(W?T=self.location.href:typeof document<"u"&&document.currentScript&&(T=document.currentScript.src),se&&(T=se),T.indexOf("blob:")!==0?T=T.substr(0,T.replace(/[?#].*/,"").lastIndexOf("/")+1):T="",W&&(_=e=>{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}),f=(e,t,r)=>{var o=new XMLHttpRequest;o.open("GET",e,!0),o.responseType="arraybuffer",o.onload=()=>{o.status==200||o.status==0&&o.response?t(o.response):r()},o.onerror=r,o.send(null)});var A=c.print||console.log.bind(console),g=c.printErr||console.error.bind(console);Object.assign(c,De),De=null,c.thisProgram&&(Ye=c.thisProgram);var y;c.wasmBinary&&(y=c.wasmBinary),c.noExitRuntime,typeof WebAssembly!="object"&&Ce("no native wasm support detected");var L,M,B=!1,C,V,j,Z,z,X,ve,K;function Pe(){var e=L.buffer;c.HEAP8=C=new Int8Array(e),c.HEAP16=j=new Int16Array(e),c.HEAP32=z=new Int32Array(e),c.HEAPU8=V=new Uint8Array(e),c.HEAPU16=Z=new Uint16Array(e),c.HEAPU32=X=new Uint32Array(e),c.HEAPF32=ve=new Float32Array(e),c.HEAPF64=K=new Float64Array(e)}var _e,Be=[],Te=[],je=[];function $(){var e=c.preRun.shift();Be.unshift(e)}var ce=0,Ve=null;function Ce(e){throw c.onAbort&&c.onAbort(e),e="Aborted("+e+")",g(e),B=!0,e=new WebAssembly.RuntimeError(e+". Build with -sASSERTIONS for more info."),Oe(e),e}function mt(e){return e.startsWith("data:application/octet-stream;base64,")}var rt;if(rt="canvas_advanced.wasm",!mt(rt)){var St=rt;rt=c.locateFile?c.locateFile(St,T):T+St}function Ue(e){if(e==rt&&y)return new Uint8Array(y);if(_)return _(e);throw"both async and sync fetching of the wasm failed"}function jt(e){if(!y&&(ct||W)){if(typeof fetch=="function"&&!e.startsWith("file://"))return fetch(e,{credentials:"same-origin"}).then(t=>{if(!t.ok)throw"failed to load wasm binary file at '"+e+"'";return t.arrayBuffer()}).catch(()=>Ue(e));if(f)return new Promise((t,r)=>{f(e,o=>t(new Uint8Array(o)),r)})}return Promise.resolve().then(()=>Ue(e))}function Vt(e,t,r){return jt(e).then(o=>WebAssembly.instantiate(o,t)).then(o=>o).then(r,o=>{g("failed to asynchronously prepare wasm: "+o),Ce(o)})}function Ut(e,t){var r=rt;return y||typeof WebAssembly.instantiateStreaming!="function"||mt(r)||r.startsWith("file://")||typeof fetch!="function"?Vt(r,e,t):fetch(r,{credentials:"same-origin"}).then(o=>WebAssembly.instantiateStreaming(o,e).then(t,function(s){return g("wasm streaming compile failed: "+s),g("falling back to ArrayBuffer instantiation"),Vt(r,e,t)}))}var it,a,n={461592:(e,t,r,o,s)=>{if(typeof window>"u"||(window.AudioContext||window.webkitAudioContext)===void 0)return 0;if(typeof window.h>"u"){window.h={Aa:0},window.h.I={},window.h.I.ya=e,window.h.I.capture=t,window.h.I.La=r,window.h.ga={},window.h.ga.stopped=o,window.h.ga.yb=s;let l=window.h;l.D=[],l.yc=function(d){for(var m=0;m<l.D.length;++m)if(l.D[m]==null)return l.D[m]=d,m;return l.D.push(d),l.D.length-1},l.Cb=function(d){for(l.D[d]=null;0<l.D.length&&l.D[l.D.length-1]==null;)l.D.pop()},l.Sc=function(d){for(var m=0;m<l.D.length;++m)if(l.D[m]==d)return l.Cb(m)},l.ra=function(d){return l.D[d]},l.Ta=["touchend","click"],l.unlock=function(){for(var d=0;d<l.D.length;++d){var m=l.D[d];m!=null&&m.J!=null&&m.state===l.ga.yb&&m.J.resume().then(()=>{wr(m.qb)},b=>{console.error("Failed to resume audiocontext",b)})}l.Ta.map(function(b){document.removeEventListener(b,l.unlock,!0)})},l.Ta.map(function(d){document.addEventListener(d,l.unlock,!0)})}return window.h.Aa+=1,1},463770:()=>{typeof window.h<"u"&&(window.h.Ta.map(function(e){document.removeEventListener(e,window.h.unlock,!0)}),--window.h.Aa,window.h.Aa===0&&delete window.h)},464074:()=>navigator.mediaDevices!==void 0&&navigator.mediaDevices.getUserMedia!==void 0,464178:()=>{try{var e=new(window.AudioContext||window.webkitAudioContext),t=e.sampleRate;return e.close(),t}catch{return 0}},464349:(e,t,r,o,s,l)=>{if(typeof window.h>"u")return-1;var d={},m={};return e==window.h.I.ya&&r!=0&&(m.sampleRate=r),d.J=new(window.AudioContext||window.webkitAudioContext)(m),d.J.suspend(),d.state=window.h.ga.stopped,r=0,e!=window.h.I.ya&&(r=t),d.Z=d.J.createScriptProcessor(o,r,t),d.Z.onaudioprocess=function(b){if((d.sa==null||d.sa.length==0)&&(d.sa=new Float32Array(ve.buffer,s,o*t)),e==window.h.I.capture||e==window.h.I.La){for(var v=0;v<t;v+=1)for(var F=b.inputBuffer.getChannelData(v),S=d.sa,D=0;D<o;D+=1)S[D*t+v]=F[D];br(l,o,s)}if(e==window.h.I.ya||e==window.h.I.La)for(_r(l,o,s),v=0;v<b.outputBuffer.numberOfChannels;++v)for(F=b.outputBuffer.getChannelData(v),S=d.sa,D=0;D<o;D+=1)F[D]=S[D*t+v];else for(v=0;v<b.outputBuffer.numberOfChannels;++v)b.outputBuffer.getChannelData(v).fill(0)},e!=window.h.I.capture&&e!=window.h.I.La||navigator.mediaDevices.getUserMedia({audio:!0,video:!1}).then(function(b){d.Da=d.J.createMediaStreamSource(b),d.Da.connect(d.Z),d.Z.connect(d.J.destination)}).catch(function(b){console.log("Failed to get user media: "+b)}),e==window.h.I.ya&&d.Z.connect(d.J.destination),d.qb=l,window.h.yc(d)},467226:e=>window.h.ra(e).J.sampleRate,467299:e=>{e=window.h.ra(e),e.Z!==void 0&&(e.Z.onaudioprocess=function(){},e.Z.disconnect(),e.Z=void 0),e.Da!==void 0&&(e.Da.disconnect(),e.Da=void 0),e.J.close(),e.J=void 0,e.qb=void 0},467699:e=>{window.h.Cb(e)},467749:e=>{e=window.h.ra(e),e.J.resume(),e.state=window.h.ga.yb},467888:e=>{e=window.h.ra(e),e.J.suspend(),e.state=window.h.ga.stopped}},i=e=>{for(;0<e.length;)e.shift()(c)},u=(e,t)=>{for(var r=0,o=e.length-1;0<=o;o--){var s=e[o];s==="."?e.splice(o,1):s===".."?(e.splice(o,1),r++):r&&(e.splice(o,1),r--)}if(t)for(;r;r--)e.unshift("..");return e},h=e=>{var t=e.charAt(0)==="/",r=e.substr(-1)==="/";return(e=u(e.split("/").filter(o=>!!o),!t).join("/"))||t||(e="."),e&&r&&(e+="/"),(t?"/":"")+e},w=e=>{var t=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/.exec(e).slice(1);return e=t[0],t=t[1],!e&&!t?".":(t&&(t=t.substr(0,t.length-1)),e+t)},R=e=>{if(e==="/")return"/";e=h(e),e=e.replace(/\/$/,"");var t=e.lastIndexOf("/");return t===-1?e:e.substr(t+1)},Y=()=>{if(typeof crypto=="object"&&typeof crypto.getRandomValues=="function")return e=>crypto.getRandomValues(e);Ce("initRandomDevice")},J=e=>(J=Y())(e);function N(){for(var e="",t=!1,r=arguments.length-1;-1<=r&&!t;r--){if(t=0<=r?arguments[r]:"/",typeof t!="string")throw new TypeError("Arguments to path.resolve must be strings");if(!t)return"";e=t+"/"+e,t=t.charAt(0)==="/"}return e=u(e.split("/").filter(o=>!!o),!t).join("/"),(t?"/":"")+e||"."}var oe=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,me=(e,t,r)=>{var o=t+r;for(r=t;e[r]&&!(r>=o);)++r;if(16<r-t&&e.buffer&&oe)return oe.decode(e.subarray(t,r));for(o="";t<r;){var s=e[t++];if(s&128){var l=e[t++]&63;if((s&224)==192)o+=String.fromCharCode((s&31)<<6|l);else{var d=e[t++]&63;s=(s&240)==224?(s&15)<<12|l<<6|d:(s&7)<<18|l<<12|d<<6|e[t++]&63,65536>s?o+=String.fromCharCode(s):(s-=65536,o+=String.fromCharCode(55296|s>>10,56320|s&1023))}}else o+=String.fromCharCode(s)}return o},Ne=[],Fe=e=>{for(var t=0,r=0;r<e.length;++r){var o=e.charCodeAt(r);127>=o?t++:2047>=o?t+=2:55296<=o&&57343>=o?(t+=4,++r):t+=3}return t},ot=(e,t,r,o)=>{if(!(0<o))return 0;var s=r;o=r+o-1;for(var l=0;l<e.length;++l){var d=e.charCodeAt(l);if(55296<=d&&57343>=d){var m=e.charCodeAt(++l);d=65536+((d&1023)<<10)|m&1023}if(127>=d){if(r>=o)break;t[r++]=d}else{if(2047>=d){if(r+1>=o)break;t[r++]=192|d>>6}else{if(65535>=d){if(r+2>=o)break;t[r++]=224|d>>12}else{if(r+3>=o)break;t[r++]=240|d>>18,t[r++]=128|d>>12&63}t[r++]=128|d>>6&63}t[r++]=128|d&63}}return t[r]=0,r-s};function qe(e,t){var r=Array(Fe(e)+1);return e=ot(e,r,0,r.length),t&&(r.length=e),r}var Ke=[];function Je(e,t){Ke[e]={input:[],F:[],V:t},Cn(e,et)}var et={open:function(e){var t=Ke[e.node.za];if(!t)throw new U(43);e.s=t,e.seekable=!1},close:function(e){e.s.V.qa(e.s)},qa:function(e){e.s.V.qa(e.s)},read:function(e,t,r,o){if(!e.s||!e.s.V.jb)throw new U(60);for(var s=0,l=0;l<o;l++){try{var d=e.s.V.jb(e.s)}catch{throw new U(29)}if(d===void 0&&s===0)throw new U(6);if(d==null)break;s++,t[r+l]=d}return s&&(e.node.timestamp=Date.now()),s},write:function(e,t,r,o){if(!e.s||!e.s.V.Oa)throw new U(60);try{for(var s=0;s<o;s++)e.s.V.Oa(e.s,t[r+s])}catch{throw new U(29)}return o&&(e.node.timestamp=Date.now()),s}},At={jb:function(){e:{if(!Ne.length){var e=null;if(typeof window<"u"&&typeof window.prompt=="function"?(e=window.prompt("Input: "),e!==null&&(e+=`
`)):typeof readline=="function"&&(e=readline(),e!==null&&(e+=`
`)),!e){e=null;break e}Ne=qe(e,!0)}e=Ne.shift()}return e},Oa:function(e,t){t===null||t===10?(A(me(e.F,0)),e.F=[]):t!=0&&e.F.push(t)},qa:function(e){e.F&&0<e.F.length&&(A(me(e.F,0)),e.F=[])},bc:function(){return{Fc:25856,Hc:5,Ec:191,Gc:35387,Dc:[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]}},cc:function(){return 0},dc:function(){return[24,80]}},Ct={Oa:function(e,t){t===null||t===10?(g(me(e.F,0)),e.F=[]):t!=0&&e.F.push(t)},qa:function(e){e.F&&0<e.F.length&&(g(me(e.F,0)),e.F=[])}};function ft(e,t){var r=e.j?e.j.length:0;r>=t||(t=Math.max(t,r*(1048576>r?2:1.125)>>>0),r!=0&&(t=Math.max(t,256)),r=e.j,e.j=new Uint8Array(t),0<e.v&&e.j.set(r.subarray(0,e.v),0))}var G={O:null,U(){return G.createNode(null,"/",16895,0)},createNode(e,t,r,o){if((r&61440)===24576||(r&61440)===4096)throw new U(63);return G.O||(G.O={dir:{node:{Y:G.l.Y,P:G.l.P,ka:G.l.ka,va:G.l.va,vb:G.l.vb,Bb:G.l.Bb,wb:G.l.wb,tb:G.l.tb,Ea:G.l.Ea},stream:{ba:G.m.ba}},file:{node:{Y:G.l.Y,P:G.l.P},stream:{ba:G.m.ba,read:G.m.read,write:G.m.write,pa:G.m.pa,mb:G.m.mb,ob:G.m.ob}},link:{node:{Y:G.l.Y,P:G.l.P,ma:G.l.ma},stream:{}},ab:{node:{Y:G.l.Y,P:G.l.P},stream:Sr}}),r=Nn(e,t,r,o),(r.mode&61440)===16384?(r.l=G.O.dir.node,r.m=G.O.dir.stream,r.j={}):(r.mode&61440)===32768?(r.l=G.O.file.node,r.m=G.O.file.stream,r.v=0,r.j=null):(r.mode&61440)===40960?(r.l=G.O.link.node,r.m=G.O.link.stream):(r.mode&61440)===8192&&(r.l=G.O.ab.node,r.m=G.O.ab.stream),r.timestamp=Date.now(),e&&(e.j[t]=r,e.timestamp=r.timestamp),r},Kc(e){return e.j?e.j.subarray?e.j.subarray(0,e.v):new Uint8Array(e.j):new Uint8Array(0)},l:{Y(e){var t={};return t.Jc=(e.mode&61440)===8192?e.id:1,t.Mc=e.id,t.mode=e.mode,t.Oc=1,t.uid=0,t.Lc=0,t.za=e.za,(e.mode&61440)===16384?t.size=4096:(e.mode&61440)===32768?t.size=e.v:(e.mode&61440)===40960?t.size=e.link.length:t.size=0,t.Bc=new Date(e.timestamp),t.Nc=new Date(e.timestamp),t.Ic=new Date(e.timestamp),t.Jb=4096,t.Cc=Math.ceil(t.size/t.Jb),t},P(e,t){if(t.mode!==void 0&&(e.mode=t.mode),t.timestamp!==void 0&&(e.timestamp=t.timestamp),t.size!==void 0&&(t=t.size,e.v!=t))if(t==0)e.j=null,e.v=0;else{var r=e.j;e.j=new Uint8Array(t),r&&e.j.set(r.subarray(0,Math.min(t,e.v))),e.v=t}},ka(){throw An[44]},va(e,t,r,o){return G.createNode(e,t,r,o)},vb(e,t,r){if((e.mode&61440)===16384){try{var o=en(t,r)}catch{}if(o)for(var s in o.j)throw new U(55)}delete e.parent.j[e.name],e.parent.timestamp=Date.now(),e.name=r,t.j[r]=e,t.timestamp=e.parent.timestamp,e.parent=t},Bb(e,t){delete e.j[t],e.timestamp=Date.now()},wb(e,t){var r=en(e,t),o;for(o in r.j)throw new U(55);delete e.j[t],e.timestamp=Date.now()},tb(e){var t=[".",".."],r;for(r in e.j)e.j.hasOwnProperty(r)&&t.push(r);return t},Ea(e,t,r){return e=G.createNode(e,t,41471,0),e.link=r,e},ma(e){if((e.mode&61440)!==40960)throw new U(28);return e.link}},m:{read(e,t,r,o,s){var l=e.node.j;if(s>=e.node.v)return 0;if(e=Math.min(e.node.v-s,o),8<e&&l.subarray)t.set(l.subarray(s,s+e),r);else for(o=0;o<e;o++)t[r+o]=l[s+o];return e},write(e,t,r,o,s,l){if(t.buffer===C.buffer&&(l=!1),!o)return 0;if(e=e.node,e.timestamp=Date.now(),t.subarray&&(!e.j||e.j.subarray)){if(l)return e.j=t.subarray(r,r+o),e.v=o;if(e.v===0&&s===0)return e.j=t.slice(r,r+o),e.v=o;if(s+o<=e.v)return e.j.set(t.subarray(r,r+o),s),o}if(ft(e,s+o),e.j.subarray&&t.subarray)e.j.set(t.subarray(r,r+o),s);else for(l=0;l<o;l++)e.j[s+l]=t[r+l];return e.v=Math.max(e.v,s+o),o},ba(e,t,r){if(r===1?t+=e.position:r===2&&(e.node.mode&61440)===32768&&(t+=e.node.v),0>t)throw new U(28);return t},pa(e,t,r){ft(e.node,t+r),e.node.v=Math.max(e.node.v,t+r)},mb(e,t,r,o,s){if((e.node.mode&61440)!==32768)throw new U(43);if(e=e.node.j,s&2||e.buffer!==C.buffer){if((0<r||r+t<e.length)&&(e.subarray?e=e.subarray(r,r+t):e=Array.prototype.slice.call(e,r,r+t)),r=!0,Ce(),t=void 0,!t)throw new U(48);C.set(e,t)}else r=!1,t=e.byteOffset;return{o:t,M:r}},ob(e,t,r,o){return G.m.write(e,t,0,o,r,!1),0}}};function pe(e,t){var r=0;return e&&(r|=365),t&&(r|=146),r}var dt=null,Wn={},qt=[],Or=1,Bt=null,Dn=!0,U=null,An={},It=(e,t={})=>{if(e=N(e),!e)return{path:"",node:null};if(t=Object.assign({hb:!0,Qa:0},t),8<t.Qa)throw new U(32);e=e.split("/").filter(d=>!!d);for(var r=dt,o="/",s=0;s<e.length;s++){var l=s===e.length-1;if(l&&t.parent)break;if(r=en(r,e[s]),o=h(o+"/"+e[s]),r.wa&&(!l||l&&t.hb)&&(r=r.wa.root),!l||t.gb){for(l=0;(r.mode&61440)===40960;)if(r=jr(o),o=N(w(o),r),r=It(o,{Qa:t.Qa+1}).node,40<l++)throw new U(32)}}return{path:o,node:r}},Un=e=>{for(var t;;){if(e===e.parent)return e=e.U.nb,t?e[e.length-1]!=="/"?`${e}/${t}`:e+t:e;t=t?`${e.name}/${t}`:e.name,e=e.parent}},Bn=(e,t)=>{for(var r=0,o=0;o<t.length;o++)r=(r<<5)-r+t.charCodeAt(o)|0;return(e+r>>>0)%Bt.length},en=(e,t)=>{var r;if(r=(r=tn(e,"x"))?r:e.l.ka?0:2)throw new U(r,e);for(r=Bt[Bn(e.id,t)];r;r=r.lc){var o=r.name;if(r.parent.id===e.id&&o===t)return r}return e.l.ka(e,t)},Nn=(e,t,r,o)=>(e=new vr(e,t,r,o),t=Bn(e.parent.id,e.name),e.lc=Bt[t],Bt[t]=e),zn=e=>{var t=["r","w","rw"][e&3];return e&512&&(t+="w"),t},tn=(e,t)=>{if(Dn)return 0;if(!t.includes("r")||e.mode&292){if(t.includes("w")&&!(e.mode&146)||t.includes("x")&&!(e.mode&73))return 2}else return 2;return 0},Hn=(e,t)=>{try{return en(e,t),20}catch{}return tn(e,"wx")},Tr=()=>{for(var e=0;4096>=e;e++)if(!qt[e])return e;throw new U(33)},Mt=e=>{if(e=qt[e],!e)throw new U(8);return e},$n=(e,t=-1)=>(zt||(zt=function(){this.h={}},zt.prototype={},Object.defineProperties(zt.prototype,{object:{get(){return this.node},set(r){this.node=r}},flags:{get(){return this.h.flags},set(r){this.h.flags=r}},position:{get(){return this.h.position},set(r){this.h.position=r}}})),e=Object.assign(new zt,e),t==-1&&(t=Tr()),e.X=t,qt[t]=e),Sr={open:e=>{e.m=Wn[e.node.za].m,e.m.open&&e.m.open(e)},ba:()=>{throw new U(70)}},Cn=(e,t)=>{Wn[e]={m:t}},Yn=(e,t)=>{var r=t==="/",o=!t;if(r&&dt)throw new U(10);if(!r&&!o){var s=It(t,{hb:!1});if(t=s.path,s=s.node,s.wa)throw new U(10);if((s.mode&61440)!==16384)throw new U(54)}t={type:e,Qc:{},nb:t,kc:[]},e=e.U(t),e.U=t,t.root=e,r?dt=e:s&&(s.wa=t,s.U&&s.U.kc.push(t))},at=(e,t,r)=>{var o=It(e,{parent:!0}).node;if(e=R(e),!e||e==="."||e==="..")throw new U(28);var s=Hn(o,e);if(s)throw new U(s);if(!o.l.va)throw new U(63);return o.l.va(o,e,t,r)},nn=(e,t,r)=>{typeof r>"u"&&(r=t,t=438),at(e,t|8192,r)},Mn=(e,t)=>{if(!N(e))throw new U(44);var r=It(t,{parent:!0}).node;if(!r)throw new U(44);t=R(t);var o=Hn(r,t);if(o)throw new U(o);if(!r.l.Ea)throw new U(63);r.l.Ea(r,t,e)},jr=e=>{if(e=It(e).node,!e)throw new U(44);if(!e.l.ma)throw new U(28);return N(Un(e.parent),e.l.ma(e))},rn=(e,t,r)=>{if(e==="")throw new U(44);if(typeof t=="string"){var o={r:0,"r+":2,w:577,"w+":578,a:1089,"a+":1090}[t];if(typeof o>"u")throw Error(`Unknown file open mode: ${t}`);t=o}if(r=t&64?(typeof r>"u"?438:r)&4095|32768:0,typeof e=="object")var s=e;else{e=h(e);try{s=It(e,{gb:!(t&131072)}).node}catch{}}if(o=!1,t&64)if(s){if(t&128)throw new U(20)}else s=at(e,r,0),o=!0;if(!s)throw new U(44);if((s.mode&61440)===8192&&(t&=-513),t&65536&&(s.mode&61440)!==16384)throw new U(54);if(!o&&(r=s?(s.mode&61440)===40960?32:(s.mode&61440)===16384&&(zn(t)!=="r"||t&512)?31:tn(s,zn(t)):44))throw new U(r);if(t&512&&!o){if(r=s,r=typeof r=="string"?It(r,{gb:!0}).node:r,!r.l.P)throw new U(63);if((r.mode&61440)===16384)throw new U(31);if((r.mode&61440)!==32768)throw new U(28);if(o=tn(r,"w"))throw new U(o);r.l.P(r,{size:0,timestamp:Date.now()})}return t&=-131713,s=$n({node:s,path:Un(s),flags:t,seekable:!0,position:0,m:s.m,zc:[],error:!1}),s.m.open&&s.m.open(s),!c.logReadFiles||t&1||(on||(on={}),e in on||(on[e]=1)),s},Xn=(e,t,r)=>{if(e.X===null)throw new U(8);if(!e.seekable||!e.m.ba)throw new U(70);if(r!=0&&r!=1&&r!=2)throw new U(28);e.position=e.m.ba(e,t,r),e.zc=[]},Gn=()=>{U||(U=function(e,t){this.name="ErrnoError",this.node=t,this.pc=function(r){this.aa=r},this.pc(e),this.message="FS error"},U.prototype=Error(),U.prototype.constructor=U,[44].forEach(e=>{An[e]=new U(e),An[e].stack="<generic error, no stack>"}))},Kn,Nt=(e,t,r)=>{e=h("/dev/"+e);var o=pe(!!t,!!r);Rn||(Rn=64);var s=Rn++<<8|0;Cn(s,{open:l=>{l.seekable=!1},close:()=>{r&&r.buffer&&r.buffer.length&&r(10)},read:(l,d,m,b)=>{for(var v=0,F=0;F<b;F++){try{var S=t()}catch{throw new U(29)}if(S===void 0&&v===0)throw new U(6);if(S==null)break;v++,d[m+F]=S}return v&&(l.node.timestamp=Date.now()),v},write:(l,d,m,b)=>{for(var v=0;v<b;v++)try{r(d[m+v])}catch{throw new U(29)}return b&&(l.node.timestamp=Date.now()),v}}),nn(e,o,s)},Rn,Pt={},zt,on,Ht=void 0;function gt(){return Ht+=4,z[Ht-4>>2]}function Jn(e){if(e===void 0)return"_unknown";e=e.replace(/[^a-zA-Z0-9_]/g,"$");var t=e.charCodeAt(0);return 48<=t&&57>=t?`_${e}`:e}function an(e,t){return e=Jn(e),{[e]:function(){return t.apply(this,arguments)}}[e]}function Qn(){this.M=[void 0],this.ib=[]}var tt=new Qn,xt=void 0;function te(e){throw new xt(e)}var st=e=>(e||te("Cannot use deleted val. handle = "+e),tt.get(e).value),ut=e=>{switch(e){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return tt.pa({ub:1,value:e})}};function Zn(e){var t=Error,r=an(e,function(o){this.name=e,this.message=o,o=Error(o).stack,o!==void 0&&(this.stack=this.toString()+`
`+o.replace(/^Error(:[^\n]*)?\n/,""))});return r.prototype=Object.create(t.prototype),r.prototype.constructor=r,r.prototype.toString=function(){return this.message===void 0?this.name:`${this.name}: ${this.message}`},r}var qn=void 0,er=void 0;function xe(e){for(var t="";V[e];)t+=er[V[e++]];return t}var $t=[];function En(){for(;$t.length;){var e=$t.pop();e.g.fa=!1,e.delete()}}var Yt=void 0,yt={};function In(e,t){for(t===void 0&&te("ptr should not be undefined");e.A;)t=e.na(t),e=e.A;return t}var Ft={};function tr(e){e=Ar(e);var t=xe(e);return _t(e),t}function Xt(e,t){var r=Ft[e];return r===void 0&&te(t+" has unknown type "+tr(e)),r}function sn(){}var Pn=!1;function nr(e){--e.count.value,e.count.value===0&&(e.G?e.L.W(e.G):e.u.i.W(e.o))}function rr(e,t,r){return t===r?e:r.A===void 0?null:(e=rr(e,t,r.A),e===null?null:r.Pb(e))}var ir={};function Vr(e,t){return t=In(e,t),yt[t]}var or=void 0;function un(e){throw new or(e)}function ln(e,t){return t.u&&t.o||un("makeClassHandle requires ptr and ptrType"),!!t.L!=!!t.G&&un("Both smartPtrType and smartPtr must be specified"),t.count={value:1},kt(Object.create(e,{g:{value:t}}))}function kt(e){return typeof FinalizationRegistry>"u"?(kt=t=>t,e):(Pn=new FinalizationRegistry(t=>{nr(t.g)}),kt=t=>{var r=t.g;return r.G&&Pn.register(t,{g:r},t),t},sn=t=>{Pn.unregister(t)},kt(e))}var cn={};function Gt(e){for(;e.length;){var t=e.pop();e.pop()(t)}}function Kt(e){return this.fromWireType(z[e>>2])}var Wt={},fn={};function Ze(e,t,r){function o(m){m=r(m),m.length!==e.length&&un("Mismatched type converter count");for(var b=0;b<e.length;++b)ht(e[b],m[b])}e.forEach(function(m){fn[m]=t});var s=Array(t.length),l=[],d=0;t.forEach((m,b)=>{Ft.hasOwnProperty(m)?s[b]=Ft[m]:(l.push(m),Wt.hasOwnProperty(m)||(Wt[m]=[]),Wt[m].push(()=>{s[b]=Ft[m],++d,d===l.length&&o(s)}))}),l.length===0&&o(s)}function dn(e){switch(e){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError(`Unknown type size: ${e}`)}}function xr(e,t,r={}){var o=t.name;if(e||te(`type "${o}" must have a positive integer typeid pointer`),Ft.hasOwnProperty(e)){if(r.$b)return;te(`Cannot register type '${o}' twice`)}Ft[e]=t,delete fn[e],Wt.hasOwnProperty(e)&&(t=Wt[e],delete Wt[e],t.forEach(s=>s()))}function ht(e,t,r={}){if(!("argPackAdvance"in t))throw new TypeError("registerType registeredInstance requires argPackAdvance");xr(e,t,r)}function Fn(e){te(e.g.u.i.name+" instance already deleted")}function Rt(){}function Ln(e,t,r){if(e[t].B===void 0){var o=e[t];e[t]=function(){return e[t].B.hasOwnProperty(arguments.length)||te(`Function '${r}' called with an invalid number of arguments (${arguments.length}) - expects one of (${e[t].B})!`),e[t].B[arguments.length].apply(this,arguments)},e[t].B=[],e[t].B[o.ea]=o}}function On(e,t,r){c.hasOwnProperty(e)?((r===void 0||c[e].B!==void 0&&c[e].B[r]!==void 0)&&te(`Cannot register public name '${e}' twice`),Ln(c,e,e),c.hasOwnProperty(r)&&te(`Cannot register multiple overloads of a function with the same number of arguments (${r})!`),c[e].B[r]=t):(c[e]=t,r!==void 0&&(c[e].Pc=r))}function kr(e,t,r,o,s,l,d,m){this.name=e,this.constructor=t,this.N=r,this.W=o,this.A=s,this.Ub=l,this.na=d,this.Pb=m,this.rb=[]}function hn(e,t,r){for(;t!==r;)t.na||te(`Expected null or instance of ${r.name}, got an instance of ${t.name}`),e=t.na(e),t=t.A;return e}function Wr(e,t){return t===null?(this.Na&&te(`null is not a valid ${this.name}`),0):(t.g||te(`Cannot pass "${Sn(t)}" as a ${this.name}`),t.g.o||te(`Cannot pass deleted object as a pointer of type ${this.name}`),hn(t.g.o,t.g.u.i,this.i))}function Dr(e,t){if(t===null){if(this.Na&&te(`null is not a valid ${this.name}`),this.ua){var r=this.Pa();return e!==null&&e.push(this.W,r),r}return 0}if(t.g||te(`Cannot pass "${Sn(t)}" as a ${this.name}`),t.g.o||te(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.ta&&t.g.u.ta&&te(`Cannot convert argument of type ${t.g.L?t.g.L.name:t.g.u.name} to parameter type ${this.name}`),r=hn(t.g.o,t.g.u.i,this.i),this.ua)switch(t.g.G===void 0&&te("Passing raw pointer to smart pointer is illegal"),this.tc){case 0:t.g.L===this?r=t.g.G:te(`Cannot convert argument of type ${t.g.L?t.g.L.name:t.g.u.name} to parameter type ${this.name}`);break;case 1:r=t.g.G;break;case 2:if(t.g.L===this)r=t.g.G;else{var o=t.clone();r=this.oc(r,ut(function(){o.delete()})),e!==null&&e.push(this.W,r)}break;default:te("Unsupporting sharing policy")}return r}function Ur(e,t){return t===null?(this.Na&&te(`null is not a valid ${this.name}`),0):(t.g||te(`Cannot pass "${Sn(t)}" as a ${this.name}`),t.g.o||te(`Cannot pass deleted object as a pointer of type ${this.name}`),t.g.u.ta&&te(`Cannot convert argument of type ${t.g.u.name} to parameter type ${this.name}`),hn(t.g.o,t.g.u.i,this.i))}function wt(e,t,r,o){this.name=e,this.i=t,this.Na=r,this.ta=o,this.ua=!1,this.W=this.oc=this.Pa=this.sb=this.tc=this.nc=void 0,t.A!==void 0?this.toWireType=Dr:(this.toWireType=o?Wr:Ur,this.K=null)}function ar(e,t,r){c.hasOwnProperty(e)||un("Replacing nonexistant public symbol"),c[e].B!==void 0&&r!==void 0?c[e].B[r]=t:(c[e]=t,c[e].ea=r)}var pn=[],sr=e=>{var t=pn[e];return t||(e>=pn.length&&(pn.length=e+1),pn[e]=t=_e.get(e)),t},Br=(e,t)=>{var r=[];return function(){if(r.length=0,Object.assign(r,arguments),e.includes("j")){var o=c["dynCall_"+e];o=r&&r.length?o.apply(null,[t].concat(r)):o.call(null,t)}else o=sr(t).apply(null,r);return o}};function Xe(e,t){e=xe(e);var r=e.includes("j")?Br(e,t):sr(t);return typeof r!="function"&&te(`unknown function pointer with signature ${e}: ${t}`),r}var ur=void 0;function bt(e,t){function r(l){s[l]||Ft[l]||(fn[l]?fn[l].forEach(r):(o.push(l),s[l]=!0))}var o=[],s={};throw t.forEach(r),new ur(`${e}: `+o.map(tr).join([", "]))}function vn(e,t,r,o,s){var l=t.length;2>l&&te("argTypes array size mismatch! Must at least get return value and 'this' types!");var d=t[1]!==null&&r!==null,m=!1;for(r=1;r<t.length;++r)if(t[r]!==null&&t[r].K===void 0){m=!0;break}var b=t[0].name!=="void",v=l-2,F=Array(v),S=[],D=[];return function(){if(arguments.length!==v&&te(`function ${e} called with ${arguments.length} arguments, expected ${v} args!`),D.length=0,S.length=d?2:1,S[0]=s,d){var p=t[1].toWireType(D,this);S[1]=p}for(var P=0;P<v;++P)F[P]=t[P+2].toWireType(D,arguments[P]),S.push(F[P]);if(P=o.apply(null,S),m)Gt(D);else for(var I=d?1:2;I<t.length;I++){var ne=I===1?p:F[I-2];t[I].K!==null&&t[I].K(ne)}return p=b?t[0].fromWireType(P):void 0,p}}function mn(e,t){for(var r=[],o=0;o<e;o++)r.push(X[t+4*o>>2]);return r}function lr(e,t,r){return e instanceof Object||te(`${r} with invalid "this": ${e}`),e instanceof t.i.constructor||te(`${r} incompatible with "this" of type ${e.constructor.name}`),e.g.o||te(`cannot call emscripten binding method ${r} on deleted object`),hn(e.g.o,e.g.u.i,t.i)}function Tn(e){e>=tt.h&&--tt.get(e).ub===0&&tt.Zb(e)}function Nr(e,t,r){switch(t){case 0:return function(o){return this.fromWireType((r?C:V)[o])};case 1:return function(o){return this.fromWireType((r?j:Z)[o>>1])};case 2:return function(o){return this.fromWireType((r?z:X)[o>>2])};default:throw new TypeError("Unknown integer type: "+e)}}function Sn(e){if(e===null)return"null";var t=typeof e;return t==="object"||t==="array"||t==="function"?e.toString():""+e}function zr(e,t){switch(t){case 2:return function(r){return this.fromWireType(ve[r>>2])};case 3:return function(r){return this.fromWireType(K[r>>3])};default:throw new TypeError("Unknown float type: "+e)}}function Hr(e,t,r){switch(t){case 0:return r?function(o){return C[o]}:function(o){return V[o]};case 1:return r?function(o){return j[o>>1]}:function(o){return Z[o>>1]};case 2:return r?function(o){return z[o>>2]}:function(o){return X[o>>2]};default:throw new TypeError("Unknown integer type: "+e)}}var cr=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,$r=(e,t)=>{for(var r=e>>1,o=r+t/2;!(r>=o)&&Z[r];)++r;if(r<<=1,32<r-e&&cr)return cr.decode(V.subarray(e,r));for(r="",o=0;!(o>=t/2);++o){var s=j[e+2*o>>1];if(s==0)break;r+=String.fromCharCode(s)}return r},Yr=(e,t,r)=>{if(r===void 0&&(r=2147483647),2>r)return 0;r-=2;var o=t;r=r<2*e.length?r/2:e.length;for(var s=0;s<r;++s)j[t>>1]=e.charCodeAt(s),t+=2;return j[t>>1]=0,t-o},Xr=e=>2*e.length,Gr=(e,t)=>{for(var r=0,o="";!(r>=t/4);){var s=z[e+4*r>>2];if(s==0)break;++r,65536<=s?(s-=65536,o+=String.fromCharCode(55296|s>>10,56320|s&1023)):o+=String.fromCharCode(s)}return o},Kr=(e,t,r)=>{if(r===void 0&&(r=2147483647),4>r)return 0;var o=t;r=o+r-4;for(var s=0;s<e.length;++s){var l=e.charCodeAt(s);if(55296<=l&&57343>=l){var d=e.charCodeAt(++s);l=65536+((l&1023)<<10)|d&1023}if(z[t>>2]=l,t+=4,t+4>r)break}return z[t>>2]=0,t-o},Jr=e=>{for(var t=0,r=0;r<e.length;++r){var o=e.charCodeAt(r);55296<=o&&57343>=o&&++r,t+=4}return t},Qr={};function gn(e){var t=Qr[e];return t===void 0?xe(e):t}var yn=[];function Zr(e){var t=yn.length;return yn.push(e),t}function qr(e,t){for(var r=Array(e),o=0;o<e;++o)r[o]=Xt(X[t+4*o>>2],"parameter "+o);return r}var fr=[],jn=[],Vn={},dr=()=>{if(!xn){var e={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:(typeof navigator=="object"&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:Ye||"./this.program"},t;for(t in Vn)Vn[t]===void 0?delete e[t]:e[t]=Vn[t];var r=[];for(t in e)r.push(`${t}=${e[t]}`);xn=r}return xn},xn,wn=e=>e%4===0&&(e%100!==0||e%400===0),hr=[31,29,31,30,31,30,31,31,30,31,30,31],pr=[31,28,31,30,31,30,31,31,30,31,30,31],ei=(e,t,r,o)=>{function s(p,P,I){for(p=typeof p=="number"?p.toString():p||"";p.length<P;)p=I[0]+p;return p}function l(p,P){return s(p,P,"0")}function d(p,P){function I(ie){return 0>ie?-1:0<ie?1:0}var ne;return(ne=I(p.getFullYear()-P.getFullYear()))===0&&(ne=I(p.getMonth()-P.getMonth()))===0&&(ne=I(p.getDate()-P.getDate())),ne}function m(p){switch(p.getDay()){case 0:return new Date(p.getFullYear()-1,11,29);case 1:return p;case 2:return new Date(p.getFullYear(),0,3);case 3:return new Date(p.getFullYear(),0,2);case 4:return new Date(p.getFullYear(),0,1);case 5:return new Date(p.getFullYear()-1,11,31);case 6:return new Date(p.getFullYear()-1,11,30)}}function b(p){var P=p.ca;for(p=new Date(new Date(p.da+1900,0,1).getTime());0<P;){var I=p.getMonth(),ne=(wn(p.getFullYear())?hr:pr)[I];if(P>ne-p.getDate())P-=ne-p.getDate()+1,p.setDate(1),11>I?p.setMonth(I+1):(p.setMonth(0),p.setFullYear(p.getFullYear()+1));else{p.setDate(p.getDate()+P);break}}return I=new Date(p.getFullYear()+1,0,4),P=m(new Date(p.getFullYear(),0,4)),I=m(I),0>=d(P,p)?0>=d(I,p)?p.getFullYear()+1:p.getFullYear():p.getFullYear()-1}var v=z[o+40>>2];o={wc:z[o>>2],vc:z[o+4>>2],Fa:z[o+8>>2],Sa:z[o+12>>2],Ga:z[o+16>>2],da:z[o+20>>2],R:z[o+24>>2],ca:z[o+28>>2],Rc:z[o+32>>2],uc:z[o+36>>2],xc:v&&v?me(V,v):""},r=r?me(V,r):"",v={"%c":"%a %b %d %H:%M:%S %Y","%D":"%m/%d/%y","%F":"%Y-%m-%d","%h":"%b","%r":"%I:%M:%S %p","%R":"%H:%M","%T":"%H:%M:%S","%x":"%m/%d/%y","%X":"%H:%M:%S","%Ec":"%c","%EC":"%C","%Ex":"%m/%d/%y","%EX":"%H:%M:%S","%Ey":"%y","%EY":"%Y","%Od":"%d","%Oe":"%e","%OH":"%H","%OI":"%I","%Om":"%m","%OM":"%M","%OS":"%S","%Ou":"%u","%OU":"%U","%OV":"%V","%Ow":"%w","%OW":"%W","%Oy":"%y"};for(var F in v)r=r.replace(new RegExp(F,"g"),v[F]);var S="Sunday Monday Tuesday Wednesday Thursday Friday Saturday".split(" "),D="January February March April May June July August September October November December".split(" ");v={"%a":p=>S[p.R].substring(0,3),"%A":p=>S[p.R],"%b":p=>D[p.Ga].substring(0,3),"%B":p=>D[p.Ga],"%C":p=>l((p.da+1900)/100|0,2),"%d":p=>l(p.Sa,2),"%e":p=>s(p.Sa,2," "),"%g":p=>b(p).toString().substring(2),"%G":p=>b(p),"%H":p=>l(p.Fa,2),"%I":p=>(p=p.Fa,p==0?p=12:12<p&&(p-=12),l(p,2)),"%j":p=>{for(var P=0,I=0;I<=p.Ga-1;P+=(wn(p.da+1900)?hr:pr)[I++]);return l(p.Sa+P,3)},"%m":p=>l(p.Ga+1,2),"%M":p=>l(p.vc,2),"%n":()=>`
`,"%p":p=>0<=p.Fa&&12>p.Fa?"AM":"PM","%S":p=>l(p.wc,2),"%t":()=>"	","%u":p=>p.R||7,"%U":p=>l(Math.floor((p.ca+7-p.R)/7),2),"%V":p=>{var P=Math.floor((p.ca+7-(p.R+6)%7)/7);if(2>=(p.R+371-p.ca-2)%7&&P++,P)P==53&&(I=(p.R+371-p.ca)%7,I==4||I==3&&wn(p.da)||(P=1));else{P=52;var I=(p.R+7-p.ca-1)%7;(I==4||I==5&&wn(p.da%400-1))&&P++}return l(P,2)},"%w":p=>p.R,"%W":p=>l(Math.floor((p.ca+7-(p.R+6)%7)/7),2),"%y":p=>(p.da+1900).toString().substring(2),"%Y":p=>p.da+1900,"%z":p=>{p=p.uc;var P=0<=p;return p=Math.abs(p)/60,(P?"+":"-")+("0000"+(p/60*100+p%60)).slice(-4)},"%Z":p=>p.xc,"%%":()=>"%"},r=r.replace(/%%/g,"\0\0");for(F in v)r.includes(F)&&(r=r.replace(new RegExp(F,"g"),v[F](o)));return r=r.replace(/\0\0/g,"%"),F=qe(r,!1),F.length>t?0:(C.set(F,e),F.length-1)};function vr(e,t,r,o){e||(e=this),this.parent=e,this.U=e.U,this.wa=null,this.id=Or++,this.name=t,this.mode=r,this.l={},this.m={},this.za=o}Object.defineProperties(vr.prototype,{read:{get:function(){return(this.mode&365)===365},set:function(e){e?this.mode|=365:this.mode&=-366}},write:{get:function(){return(this.mode&146)===146},set:function(e){e?this.mode|=146:this.mode&=-147}}}),Gn(),Bt=Array(4096),Yn(G,"/"),at("/tmp",16895,0),at("/home",16895,0),at("/home/web_user",16895,0),(()=>{at("/dev",16895,0),Cn(259,{read:()=>0,write:(o,s,l,d)=>d}),nn("/dev/null",259),Je(1280,At),Je(1536,Ct),nn("/dev/tty",1280),nn("/dev/tty1",1536);var e=new Uint8Array(1024),t=0,r=()=>(t===0&&(t=J(e).byteLength),e[--t]);Nt("random",r),Nt("urandom",r),at("/dev/shm",16895,0),at("/dev/shm/tmp",16895,0)})(),(()=>{at("/proc",16895,0);var e=at("/proc/self",16895,0);at("/proc/self/fd",16895,0),Yn({U:()=>{var t=Nn(e,"fd",16895,73);return t.l={ka:(r,o)=>{var s=Mt(+o);return r={parent:null,U:{nb:"fake"},l:{ma:()=>s.path}},r.parent=r}},t}},"/proc/self/fd")})(),Object.assign(Qn.prototype,{get(e){return this.M[e]},has(e){return this.M[e]!==void 0},pa(e){var t=this.ib.pop()||this.M.length;return this.M[t]=e,t},Zb(e){this.M[e]=void 0,this.ib.push(e)}}),xt=c.BindingError=class extends Error{constructor(e){super(e),this.name="BindingError"}},tt.M.push({value:void 0},{value:null},{value:!0},{value:!1}),tt.h=tt.M.length,c.count_emval_handles=function(){for(var e=0,t=tt.h;t<tt.M.length;++t)tt.M[t]!==void 0&&++e;return e},qn=c.PureVirtualError=Zn("PureVirtualError");for(var mr=Array(256),bn=0;256>bn;++bn)mr[bn]=String.fromCharCode(bn);er=mr,c.getInheritedInstanceCount=function(){return Object.keys(yt).length},c.getLiveInheritedInstances=function(){var e=[],t;for(t in yt)yt.hasOwnProperty(t)&&e.push(yt[t]);return e},c.flushPendingDeletes=En,c.setDelayFunction=function(e){Yt=e,$t.length&&Yt&&Yt(En)},or=c.InternalError=class extends Error{constructor(e){super(e),this.name="InternalError"}},Rt.prototype.isAliasOf=function(e){if(!(this instanceof Rt&&e instanceof Rt))return!1;var t=this.g.u.i,r=this.g.o,o=e.g.u.i;for(e=e.g.o;t.A;)r=t.na(r),t=t.A;for(;o.A;)e=o.na(e),o=o.A;return t===o&&r===e},Rt.prototype.clone=function(){if(this.g.o||Fn(this),this.g.ia)return this.g.count.value+=1,this;var e=kt,t=Object,r=t.create,o=Object.getPrototypeOf(this),s=this.g;return e=e(r.call(t,o,{g:{value:{count:s.count,fa:s.fa,ia:s.ia,o:s.o,u:s.u,G:s.G,L:s.L}}})),e.g.count.value+=1,e.g.fa=!1,e},Rt.prototype.delete=function(){this.g.o||Fn(this),this.g.fa&&!this.g.ia&&te("Object already scheduled for deletion"),sn(this),nr(this.g),this.g.ia||(this.g.G=void 0,this.g.o=void 0)},Rt.prototype.isDeleted=function(){return!this.g.o},Rt.prototype.deleteLater=function(){return this.g.o||Fn(this),this.g.fa&&!this.g.ia&&te("Object already scheduled for deletion"),$t.push(this),$t.length===1&&Yt&&Yt(En),this.g.fa=!0,this},wt.prototype.Vb=function(e){return this.sb&&(e=this.sb(e)),e},wt.prototype.bb=function(e){this.W&&this.W(e)},wt.prototype.argPackAdvance=8,wt.prototype.readValueFromPointer=Kt,wt.prototype.deleteObject=function(e){e!==null&&e.delete()},wt.prototype.fromWireType=function(e){function t(){return this.ua?ln(this.i.N,{u:this.nc,o:r,L:this,G:e}):ln(this.i.N,{u:this,o:e})}var r=this.Vb(e);if(!r)return this.bb(e),null;var o=Vr(this.i,r);if(o!==void 0)return o.g.count.value===0?(o.g.o=r,o.g.G=e,o.clone()):(o=o.clone(),this.bb(e),o);if(o=this.i.Ub(r),o=ir[o],!o)return t.call(this);o=this.ta?o.Kb:o.pointerType;var s=rr(r,this.i,o.i);return s===null?t.call(this):this.ua?ln(o.i.N,{u:o,o:s,L:this,G:e}):ln(o.i.N,{u:o,o:s})},ur=c.UnboundTypeError=Zn("UnboundTypeError");var gr={__syscall_fcntl64:function(e,t,r){Ht=r;try{var o=Mt(e);switch(t){case 0:var s=gt();return 0>s?-28:$n(o,s).X;case 1:case 2:return 0;case 3:return o.flags;case 4:return s=gt(),o.flags|=s,0;case 5:return s=gt(),j[s+0>>1]=2,0;case 6:case 7:return 0;case 16:case 8:return-28;case 9:return z[yr()>>2]=28,-1;default:return-28}}catch(l){if(typeof Pt>"u"||l.name!=="ErrnoError")throw l;return-l.aa}},__syscall_ioctl:function(e,t,r){Ht=r;try{var o=Mt(e);switch(t){case 21509:return o.s?0:-59;case 21505:if(!o.s)return-59;if(o.s.V.bc){t=[3,28,127,21,4,0,1,0,17,19,26,0,18,15,23,22,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var s=gt();z[s>>2]=25856,z[s+4>>2]=5,z[s+8>>2]=191,z[s+12>>2]=35387;for(var l=0;32>l;l++)C[s+l+17>>0]=t[l]||0}return 0;case 21510:case 21511:case 21512:return o.s?0:-59;case 21506:case 21507:case 21508:if(!o.s)return-59;if(o.s.V.cc)for(s=gt(),t=[],l=0;32>l;l++)t.push(C[s+l+17>>0]);return 0;case 21519:return o.s?(s=gt(),z[s>>2]=0):-59;case 21520:return o.s?-28:-59;case 21531:if(s=gt(),!o.m.ac)throw new U(59);return o.m.ac(o,t,s);case 21523:return o.s?(o.s.V.dc&&(l=[24,80],s=gt(),j[s>>1]=l[0],j[s+2>>1]=l[1]),0):-59;case 21524:return o.s?0:-59;case 21515:return o.s?0:-59;default:return-28}}catch(d){if(typeof Pt>"u"||d.name!=="ErrnoError")throw d;return-d.aa}},__syscall_openat:function(e,t,r,o){Ht=o;try{t=t?me(V,t):"";var s=t;if(s.charAt(0)==="/")t=s;else{var l=e===-100?"/":Mt(e).path;if(s.length==0)throw new U(44);t=h(l+"/"+s)}var d=o?gt():0;return rn(t,r,d).X}catch(m){if(typeof Pt>"u"||m.name!=="ErrnoError")throw m;return-m.aa}},_embind_create_inheriting_constructor:function(e,t,r){e=xe(e),t=Xt(t,"wrapper"),r=st(r);var o=[].slice,s=t.i,l=s.N,d=s.A.N,m=s.A.constructor;e=an(e,function(){s.A.rb.forEach((function(v){if(this[v]===d[v])throw new qn(`Pure virtual function ${v} must be implemented in JavaScript`)}).bind(this)),Object.defineProperty(this,"__parent",{value:l}),this.__construct.apply(this,o.call(arguments))}),l.__construct=function(){this===l&&te("Pass correct 'this' to __construct");var v=m.implement.apply(void 0,[this].concat(o.call(arguments)));sn(v);var F=v.g;v.notifyOnDestruction(),F.ia=!0,Object.defineProperties(this,{g:{value:F}}),kt(this),v=F.o,v=In(s,v),yt.hasOwnProperty(v)?te(`Tried to register registered instance: ${v}`):yt[v]=this},l.__destruct=function(){this===l&&te("Pass correct 'this' to __destruct"),sn(this);var v=this.g.o;v=In(s,v),yt.hasOwnProperty(v)?delete yt[v]:te(`Tried to unregister unregistered instance: ${v}`)},e.prototype=Object.create(l);for(var b in r)e.prototype[b]=r[b];return ut(e)},_embind_finalize_value_object:function(e){var t=cn[e];delete cn[e];var r=t.Pa,o=t.W,s=t.fb,l=s.map(d=>d.Yb).concat(s.map(d=>d.rc));Ze([e],l,d=>{var m={};return s.forEach((b,v)=>{var F=d[v],S=b.Wb,D=b.Xb,p=d[v+s.length],P=b.qc,I=b.sc;m[b.Sb]={read:ne=>F.fromWireType(S(D,ne)),write:(ne,ie)=>{var x=[];P(I,ne,p.toWireType(x,ie)),Gt(x)}}}),[{name:t.name,fromWireType:function(b){var v={},F;for(F in m)v[F]=m[F].read(b);return o(b),v},toWireType:function(b,v){for(var F in m)if(!(F in v))throw new TypeError(`Missing field: "${F}"`);var S=r();for(F in m)m[F].write(S,v[F]);return b!==null&&b.push(o,S),S},argPackAdvance:8,readValueFromPointer:Kt,K:o}]})},_embind_register_bigint:function(){},_embind_register_bool:function(e,t,r,o,s){var l=dn(r);t=xe(t),ht(e,{name:t,fromWireType:function(d){return!!d},toWireType:function(d,m){return m?o:s},argPackAdvance:8,readValueFromPointer:function(d){if(r===1)var m=C;else if(r===2)m=j;else if(r===4)m=z;else throw new TypeError("Unknown boolean type size: "+t);return this.fromWireType(m[d>>l])},K:null})},_embind_register_class:function(e,t,r,o,s,l,d,m,b,v,F,S,D){F=xe(F),l=Xe(s,l),m&&(m=Xe(d,m)),v&&(v=Xe(b,v)),D=Xe(S,D);var p=Jn(F);On(p,function(){bt(`Cannot construct ${F} due to unbound types`,[o])}),Ze([e,t,r],o?[o]:[],function(P){if(P=P[0],o)var I=P.i,ne=I.N;else ne=Rt.prototype;P=an(p,function(){if(Object.getPrototypeOf(this)!==ie)throw new xt("Use 'new' to construct "+F);if(x.$===void 0)throw new xt(F+" has no accessible constructor");var $e=x.$[arguments.length];if($e===void 0)throw new xt(`Tried to invoke ctor of ${F} with invalid number of parameters (${arguments.length}) - expected (${Object.keys(x.$).toString()}) parameters instead!`);return $e.apply(this,arguments)});var ie=Object.create(ne,{constructor:{value:P}});P.prototype=ie;var x=new kr(F,P,ie,D,I,l,m,v);x.A&&(x.A.oa===void 0&&(x.A.oa=[]),x.A.oa.push(x)),I=new wt(F,x,!0,!1),ne=new wt(F+"*",x,!1,!1);var Ee=new wt(F+" const*",x,!1,!0);return ir[e]={pointerType:ne,Kb:Ee},ar(p,P),[I,ne,Ee]})},_embind_register_class_class_function:function(e,t,r,o,s,l,d){var m=mn(r,o);t=xe(t),l=Xe(s,l),Ze([],[e],function(b){function v(){bt(`Cannot call ${F} due to unbound types`,m)}b=b[0];var F=`${b.name}.${t}`;t.startsWith("@@")&&(t=Symbol[t.substring(2)]);var S=b.i.constructor;return S[t]===void 0?(v.ea=r-1,S[t]=v):(Ln(S,t,F),S[t].B[r-1]=v),Ze([],m,function(D){if(D=vn(F,[D[0],null].concat(D.slice(1)),null,l,d),S[t].B===void 0?(D.ea=r-1,S[t]=D):S[t].B[r-1]=D,b.i.oa)for(const p of b.i.oa)p.constructor.hasOwnProperty(t)||(p.constructor[t]=D);return[]}),[]})},_embind_register_class_class_property:function(e,t,r,o,s,l,d,m){t=xe(t),l=Xe(s,l),Ze([],[e],function(b){b=b[0];var v=`${b.name}.${t}`,F={get(){bt(`Cannot access ${v} due to unbound types`,[r])},enumerable:!0,configurable:!0};return F.set=m?()=>{bt(`Cannot access ${v} due to unbound types`,[r])}:()=>{te(`${v} is a read-only property`)},Object.defineProperty(b.i.constructor,t,F),Ze([],[r],function(S){S=S[0];var D={get(){return S.fromWireType(l(o))},enumerable:!0};return m&&(m=Xe(d,m),D.set=p=>{var P=[];m(o,S.toWireType(P,p)),Gt(P)}),Object.defineProperty(b.i.constructor,t,D),[]}),[]})},_embind_register_class_constructor:function(e,t,r,o,s,l){var d=mn(t,r);s=Xe(o,s),Ze([],[e],function(m){m=m[0];var b=`constructor ${m.name}`;if(m.i.$===void 0&&(m.i.$=[]),m.i.$[t-1]!==void 0)throw new xt(`Cannot register multiple constructors with identical number of parameters (${t-1}) for class '${m.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return m.i.$[t-1]=()=>{bt(`Cannot construct ${m.name} due to unbound types`,d)},Ze([],d,function(v){return v.splice(1,0,null),m.i.$[t-1]=vn(b,v,null,s,l),[]}),[]})},_embind_register_class_function:function(e,t,r,o,s,l,d,m){var b=mn(r,o);t=xe(t),l=Xe(s,l),Ze([],[e],function(v){function F(){bt(`Cannot call ${S} due to unbound types`,b)}v=v[0];var S=`${v.name}.${t}`;t.startsWith("@@")&&(t=Symbol[t.substring(2)]),m&&v.i.rb.push(t);var D=v.i.N,p=D[t];return p===void 0||p.B===void 0&&p.className!==v.name&&p.ea===r-2?(F.ea=r-2,F.className=v.name,D[t]=F):(Ln(D,t,S),D[t].B[r-2]=F),Ze([],b,function(P){return P=vn(S,P,v,l,d),D[t].B===void 0?(P.ea=r-2,D[t]=P):D[t].B[r-2]=P,[]}),[]})},_embind_register_class_property:function(e,t,r,o,s,l,d,m,b,v){t=xe(t),s=Xe(o,s),Ze([],[e],function(F){F=F[0];var S=`${F.name}.${t}`,D={get(){bt(`Cannot access ${S} due to unbound types`,[r,d])},enumerable:!0,configurable:!0};return D.set=b?()=>{bt(`Cannot access ${S} due to unbound types`,[r,d])}:()=>{te(S+" is a read-only property")},Object.defineProperty(F.i.N,t,D),Ze([],b?[r,d]:[r],function(p){var P=p[0],I={get(){var ie=lr(this,F,S+" getter");return P.fromWireType(s(l,ie))},enumerable:!0};if(b){b=Xe(m,b);var ne=p[1];I.set=function(ie){var x=lr(this,F,S+" setter"),Ee=[];b(v,x,ne.toWireType(Ee,ie)),Gt(Ee)}}return Object.defineProperty(F.i.N,t,I),[]}),[]})},_embind_register_emval:function(e,t){t=xe(t),ht(e,{name:t,fromWireType:function(r){var o=st(r);return Tn(r),o},toWireType:function(r,o){return ut(o)},argPackAdvance:8,readValueFromPointer:Kt,K:null})},_embind_register_enum:function(e,t,r,o){function s(){}r=dn(r),t=xe(t),s.values={},ht(e,{name:t,constructor:s,fromWireType:function(l){return this.constructor.values[l]},toWireType:function(l,d){return d.value},argPackAdvance:8,readValueFromPointer:Nr(t,r,o),K:null}),On(t,s)},_embind_register_enum_value:function(e,t,r){var o=Xt(e,"enum");t=xe(t),e=o.constructor,o=Object.create(o.constructor.prototype,{value:{value:r},constructor:{value:an(`${o.name}_${t}`,function(){})}}),e.values[r]=o,e[t]=o},_embind_register_float:function(e,t,r){r=dn(r),t=xe(t),ht(e,{name:t,fromWireType:function(o){return o},toWireType:function(o,s){return s},argPackAdvance:8,readValueFromPointer:zr(t,r),K:null})},_embind_register_function:function(e,t,r,o,s,l){var d=mn(t,r);e=xe(e),s=Xe(o,s),On(e,function(){bt(`Cannot call ${e} due to unbound types`,d)},t-1),Ze([],d,function(m){return ar(e,vn(e,[m[0],null].concat(m.slice(1)),null,s,l),t-1),[]})},_embind_register_integer:function(e,t,r,o,s){t=xe(t),s===-1&&(s=4294967295),s=dn(r);var l=m=>m;if(o===0){var d=32-8*r;l=m=>m<<d>>>d}r=t.includes("unsigned")?function(m,b){return b>>>0}:function(m,b){return b},ht(e,{name:t,fromWireType:l,toWireType:r,argPackAdvance:8,readValueFromPointer:Hr(t,s,o!==0),K:null})},_embind_register_memory_view:function(e,t,r){function o(l){l>>=2;var d=X;return new s(d.buffer,d[l+1],d[l])}var s=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][t];r=xe(r),ht(e,{name:r,fromWireType:o,argPackAdvance:8,readValueFromPointer:o},{$b:!0})},_embind_register_std_string:function(e,t){t=xe(t);var r=t==="std::string";ht(e,{name:t,fromWireType:function(o){var s=X[o>>2],l=o+4;if(r)for(var d=l,m=0;m<=s;++m){var b=l+m;if(m==s||V[b]==0){if(d=d?me(V,d,b-d):"",v===void 0)var v=d;else v+="\0",v+=d;d=b+1}}else{for(v=Array(s),m=0;m<s;++m)v[m]=String.fromCharCode(V[l+m]);v=v.join("")}return _t(o),v},toWireType:function(o,s){s instanceof ArrayBuffer&&(s=new Uint8Array(s));var l=typeof s=="string";l||s instanceof Uint8Array||s instanceof Uint8ClampedArray||s instanceof Int8Array||te("Cannot pass non-string to std::string");var d=r&&l?Fe(s):s.length,m=kn(4+d+1),b=m+4;if(X[m>>2]=d,r&&l)ot(s,V,b,d+1);else if(l)for(l=0;l<d;++l){var v=s.charCodeAt(l);255<v&&(_t(b),te("String has UTF-16 code units that do not fit in 8 bits")),V[b+l]=v}else for(l=0;l<d;++l)V[b+l]=s[l];return o!==null&&o.push(_t,m),m},argPackAdvance:8,readValueFromPointer:Kt,K:function(o){_t(o)}})},_embind_register_std_wstring:function(e,t,r){if(r=xe(r),t===2)var o=$r,s=Yr,l=Xr,d=()=>Z,m=1;else t===4&&(o=Gr,s=Kr,l=Jr,d=()=>X,m=2);ht(e,{name:r,fromWireType:function(b){for(var v=X[b>>2],F=d(),S,D=b+4,p=0;p<=v;++p){var P=b+4+p*t;(p==v||F[P>>m]==0)&&(D=o(D,P-D),S===void 0?S=D:(S+="\0",S+=D),D=P+t)}return _t(b),S},toWireType:function(b,v){typeof v!="string"&&te(`Cannot pass non-string to C++ string type ${r}`);var F=l(v),S=kn(4+F+t);return X[S>>2]=F>>m,s(v,S+4,F+t),b!==null&&b.push(_t,S),S},argPackAdvance:8,readValueFromPointer:Kt,K:function(b){_t(b)}})},_embind_register_value_object:function(e,t,r,o,s,l){cn[e]={name:xe(t),Pa:Xe(r,o),W:Xe(s,l),fb:[]}},_embind_register_value_object_field:function(e,t,r,o,s,l,d,m,b,v){cn[e].fb.push({Sb:xe(t),Yb:r,Wb:Xe(o,s),Xb:l,rc:d,qc:Xe(m,b),sc:v})},_embind_register_void:function(e,t){t=xe(t),ht(e,{fc:!0,name:t,argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},_emscripten_get_now_is_monotonic:()=>!0,_emval_as:function(e,t,r){e=st(e),t=Xt(t,"emval::as");var o=[],s=ut(o);return X[r>>2]=s,t.toWireType(o,e)},_emval_call_method:function(e,t,r,o,s){e=yn[e],t=st(t),r=gn(r);var l=[];return X[o>>2]=ut(l),e(t,r,l,s)},_emval_call_void_method:function(e,t,r,o){e=yn[e],t=st(t),r=gn(r),e(t,r,null,o)},_emval_decref:Tn,_emval_get_method_caller:function(e,t){var r=qr(e,t),o=r[0];t=o.name+"_$"+r.slice(1).map(function(d){return d.name}).join("_")+"$";var s=fr[t];if(s!==void 0)return s;var l=Array(e-1);return s=Zr((d,m,b,v)=>{for(var F=0,S=0;S<e-1;++S)l[S]=r[S+1].readValueFromPointer(v+F),F+=r[S+1].argPackAdvance;for(d=d[m].apply(d,l),S=0;S<e-1;++S)r[S+1].Nb&&r[S+1].Nb(l[S]);if(!o.fc)return o.toWireType(b,d)}),fr[t]=s},_emval_get_module_property:function(e){return e=gn(e),ut(c[e])},_emval_get_property:function(e,t){return e=st(e),t=st(t),ut(e[t])},_emval_incref:function(e){4<e&&(tt.get(e).ub+=1)},_emval_new_array:function(){return ut([])},_emval_new_cstring:function(e){return ut(gn(e))},_emval_new_object:function(){return ut({})},_emval_run_destructors:function(e){var t=st(e);Gt(t),Tn(e)},_emval_set_property:function(e,t,r){e=st(e),t=st(t),r=st(r),e[t]=r},_emval_take_value:function(e,t){return e=Xt(e,"_emval_take_value"),e=e.readValueFromPointer(t),ut(e)},abort:()=>{Ce("")},emscripten_asm_const_int:(e,t,r)=>{jn.length=0;var o;for(r>>=2;o=V[t++];)r+=o!=105&r,jn.push(o==105?z[r]:K[r++>>1]),++r;return n[e].apply(null,jn)},emscripten_date_now:function(){return Date.now()},emscripten_get_now:()=>performance.now(),emscripten_memcpy_big:(e,t,r)=>V.copyWithin(e,t,t+r),emscripten_resize_heap:e=>{var t=V.length;if(e>>>=0,2147483648<e)return!1;for(var r=1;4>=r;r*=2){var o=t*(1+.2/r);o=Math.min(o,e+100663296);var s=Math;o=Math.max(e,o);e:{s=s.min.call(s,2147483648,o+(65536-o%65536)%65536)-L.buffer.byteLength+65535>>>16;try{L.grow(s),Pe();var l=1;break e}catch{}l=void 0}if(l)return!0}return!1},environ_get:(e,t)=>{var r=0;return dr().forEach(function(o,s){var l=t+r;for(s=X[e+4*s>>2]=l,l=0;l<o.length;++l)C[s++>>0]=o.charCodeAt(l);C[s>>0]=0,r+=o.length+1}),0},environ_sizes_get:(e,t)=>{var r=dr();X[e>>2]=r.length;var o=0;return r.forEach(function(s){o+=s.length+1}),X[t>>2]=o,0},fd_close:function(e){try{var t=Mt(e);if(t.X===null)throw new U(8);t.Ma&&(t.Ma=null);try{t.m.close&&t.m.close(t)}catch(r){throw r}finally{qt[t.X]=null}return t.X=null,0}catch(r){if(typeof Pt>"u"||r.name!=="ErrnoError")throw r;return r.aa}},fd_read:function(e,t,r,o){try{e:{var s=Mt(e);e=t;for(var l,d=t=0;d<r;d++){var m=X[e>>2],b=X[e+4>>2];e+=8;var v=s,F=m,S=b,D=l,p=C;if(0>S||0>D)throw new U(28);if(v.X===null)throw new U(8);if((v.flags&2097155)===1)throw new U(8);if((v.node.mode&61440)===16384)throw new U(31);if(!v.m.read)throw new U(28);var P=typeof D<"u";if(!P)D=v.position;else if(!v.seekable)throw new U(70);var I=v.m.read(v,p,F,S,D);P||(v.position+=I);var ne=I;if(0>ne){var ie=-1;break e}if(t+=ne,ne<b)break;typeof l<"u"&&(l+=ne)}ie=t}return X[o>>2]=ie,0}catch(x){if(typeof Pt>"u"||x.name!=="ErrnoError")throw x;return x.aa}},fd_seek:function(e,t,r,o,s){t=r+2097152>>>0<4194305-!!t?(t>>>0)+4294967296*r:NaN;try{if(isNaN(t))return 61;var l=Mt(e);return Xn(l,t,o),a=[l.position>>>0,(it=l.position,1<=+Math.abs(it)?0<it?+Math.floor(it/4294967296)>>>0:~~+Math.ceil((it-+(~~it>>>0))/4294967296)>>>0:0)],z[s>>2]=a[0],z[s+4>>2]=a[1],l.Ma&&t===0&&o===0&&(l.Ma=null),0}catch(d){if(typeof Pt>"u"||d.name!=="ErrnoError")throw d;return d.aa}},fd_write:function(e,t,r,o){try{e:{var s=Mt(e);e=t;for(var l,d=t=0;d<r;d++){var m=X[e>>2],b=X[e+4>>2];e+=8;var v=s,F=m,S=b,D=l,p=C;if(0>S||0>D)throw new U(28);if(v.X===null)throw new U(8);if(!(v.flags&2097155))throw new U(8);if((v.node.mode&61440)===16384)throw new U(31);if(!v.m.write)throw new U(28);v.seekable&&v.flags&1024&&Xn(v,0,2);var P=typeof D<"u";if(!P)D=v.position;else if(!v.seekable)throw new U(70);var I=v.m.write(v,p,F,S,D,void 0);P||(v.position+=I);var ne=I;if(0>ne){var ie=-1;break e}t+=ne,typeof l<"u"&&(l+=ne)}ie=t}return X[o>>2]=ie,0}catch(x){if(typeof Pt>"u"||x.name!=="ErrnoError")throw x;return x.aa}},strftime_l:(e,t,r,o)=>ei(e,t,r,o)};(function(){function e(r){if(M=r=r.exports,L=M.memory,Pe(),_e=M.__indirect_function_table,Te.unshift(M.__wasm_call_ctors),ce--,c.monitorRunDependencies&&c.monitorRunDependencies(ce),ce==0&&Ve){var o=Ve;Ve=null,o()}return r}var t={env:gr,wasi_snapshot_preview1:gr};if(ce++,c.monitorRunDependencies&&c.monitorRunDependencies(ce),c.instantiateWasm)try{return c.instantiateWasm(t,e)}catch(r){g("Module.instantiateWasm callback failed with error: "+r),Oe(r)}return Ut(t,function(r){e(r.instance)}).catch(Oe),{}})();var _t=e=>(_t=M.free)(e),kn=e=>(kn=M.malloc)(e),yr=()=>(yr=M.__errno_location)(),wr=c._ma_device__on_notification_unlocked=e=>(wr=c._ma_device__on_notification_unlocked=M.ma_device__on_notification_unlocked)(e);c._ma_malloc_emscripten=(e,t)=>(c._ma_malloc_emscripten=M.ma_malloc_emscripten)(e,t),c._ma_free_emscripten=(e,t)=>(c._ma_free_emscripten=M.ma_free_emscripten)(e,t);var br=c._ma_device_process_pcm_frames_capture__webaudio=(e,t,r)=>(br=c._ma_device_process_pcm_frames_capture__webaudio=M.ma_device_process_pcm_frames_capture__webaudio)(e,t,r),_r=c._ma_device_process_pcm_frames_playback__webaudio=(e,t,r)=>(_r=c._ma_device_process_pcm_frames_playback__webaudio=M.ma_device_process_pcm_frames_playback__webaudio)(e,t,r),Ar=e=>(Ar=M.__getTypeName)(e);c.__embind_initialize_bindings=()=>(c.__embind_initialize_bindings=M._embind_initialize_bindings)(),c.dynCall_iiji=(e,t,r,o,s)=>(c.dynCall_iiji=M.dynCall_iiji)(e,t,r,o,s),c.dynCall_jiji=(e,t,r,o,s)=>(c.dynCall_jiji=M.dynCall_jiji)(e,t,r,o,s),c.dynCall_iiiji=(e,t,r,o,s,l)=>(c.dynCall_iiiji=M.dynCall_iiiji)(e,t,r,o,s,l),c.dynCall_iij=(e,t,r,o)=>(c.dynCall_iij=M.dynCall_iij)(e,t,r,o),c.dynCall_jii=(e,t,r)=>(c.dynCall_jii=M.dynCall_jii)(e,t,r),c.dynCall_viijii=(e,t,r,o,s,l,d)=>(c.dynCall_viijii=M.dynCall_viijii)(e,t,r,o,s,l,d),c.dynCall_iiiiij=(e,t,r,o,s,l,d)=>(c.dynCall_iiiiij=M.dynCall_iiiiij)(e,t,r,o,s,l,d),c.dynCall_iiiiijj=(e,t,r,o,s,l,d,m,b)=>(c.dynCall_iiiiijj=M.dynCall_iiiiijj)(e,t,r,o,s,l,d,m,b),c.dynCall_iiiiiijj=(e,t,r,o,s,l,d,m,b,v)=>(c.dynCall_iiiiiijj=M.dynCall_iiiiiijj)(e,t,r,o,s,l,d,m,b,v);var _n;Ve=function e(){_n||Cr(),_n||(Ve=e)};function Cr(){function e(){if(!_n&&(_n=!0,c.calledRun=!0,!B)){if(c.noFSInit||Kn||(Kn=!0,Gn(),c.stdin=c.stdin,c.stdout=c.stdout,c.stderr=c.stderr,c.stdin?Nt("stdin",c.stdin):Mn("/dev/tty","/dev/stdin"),c.stdout?Nt("stdout",null,c.stdout):Mn("/dev/tty","/dev/stdout"),c.stderr?Nt("stderr",null,c.stderr):Mn("/dev/tty1","/dev/stderr"),rn("/dev/stdin",0),rn("/dev/stdout",1),rn("/dev/stderr",1)),Dn=!1,i(Te),Le(c),c.onRuntimeInitialized&&c.onRuntimeInitialized(),c.postRun)for(typeof c.postRun=="function"&&(c.postRun=[c.postRun]);c.postRun.length;){var t=c.postRun.shift();je.unshift(t)}i(je)}}if(!(0<ce)){if(c.preRun)for(typeof c.preRun=="function"&&(c.preRun=[c.preRun]);c.preRun.length;)$();i(Be),0<ce||(c.setStatus?(c.setStatus("Running..."),setTimeout(function(){setTimeout(function(){c.setStatus("")},1),e()},1)):e())}}if(c.preInit)for(typeof c.preInit=="function"&&(c.preInit=[c.preInit]);0<c.preInit.length;)c.preInit.pop()();return Cr(),H.ready}})();const ae=ee},le=>{le.exports=JSON.parse(`{"name":"@rive-app/canvas","version":"2.31.5","description":"Rive's canvas based web api.","main":"rive.js","homepage":"https://rive.app","repository":{"type":"git","url":"https://github.com/rive-app/rive-wasm/tree/master/js"},"keywords":["rive","animation"],"author":"Rive","contributors":["Luigi Rosso <luigi@rive.app> (https://rive.app)","Maxwell Talbot <max@rive.app> (https://rive.app)","Arthur Vivian <arthur@rive.app> (https://rive.app)","Umberto Sonnino <umberto@rive.app> (https://rive.app)","Matthew Sullivan <matt.j.sullivan@gmail.com> (mailto:matt.j.sullivan@gmail.com)"],"license":"MIT","files":["rive.js","rive.js.map","rive.wasm","rive_fallback.wasm","rive.d.ts","rive_advanced.mjs.d.ts"],"typings":"rive.d.ts","dependencies":{},"browser":{"fs":false,"path":false}}`)},(le,q,Q)=>{Q.r(q),Q.d(q,{Animation:()=>ee.Animation});var ee=Q(4)},(le,q,Q)=>{Q.r(q),Q.d(q,{Animation:()=>ee});var ee=function(){function ae(se,H,c,Le){this.animation=se,this.artboard=H,this.playing=Le,this.loopCount=0,this.scrubTo=null,this.instance=new c.LinearAnimationInstance(se,H)}return Object.defineProperty(ae.prototype,"name",{get:function(){return this.animation.name},enumerable:!1,configurable:!0}),Object.defineProperty(ae.prototype,"time",{get:function(){return this.instance.time},set:function(se){this.instance.time=se},enumerable:!1,configurable:!0}),Object.defineProperty(ae.prototype,"loopValue",{get:function(){return this.animation.loopValue},enumerable:!1,configurable:!0}),Object.defineProperty(ae.prototype,"needsScrub",{get:function(){return this.scrubTo!==null},enumerable:!1,configurable:!0}),ae.prototype.advance=function(se){this.scrubTo===null?this.instance.advance(se):(this.instance.time=0,this.instance.advance(this.scrubTo),this.scrubTo=null)},ae.prototype.apply=function(se){this.instance.apply(se)},ae.prototype.cleanup=function(){this.instance.delete()},ae}()},(le,q,Q)=>{Q.r(q),Q.d(q,{AudioAssetWrapper:()=>se.AudioAssetWrapper,AudioWrapper:()=>se.AudioWrapper,BLANK_URL:()=>ae.BLANK_URL,CustomFileAssetLoaderWrapper:()=>se.CustomFileAssetLoaderWrapper,FileAssetWrapper:()=>se.FileAssetWrapper,FileFinalizer:()=>se.FileFinalizer,FontAssetWrapper:()=>se.FontAssetWrapper,FontWrapper:()=>se.FontWrapper,ImageAssetWrapper:()=>se.ImageAssetWrapper,ImageWrapper:()=>se.ImageWrapper,createFinalization:()=>se.createFinalization,finalizationRegistry:()=>se.finalizationRegistry,registerTouchInteractions:()=>ee.registerTouchInteractions,sanitizeUrl:()=>ae.sanitizeUrl});var ee=Q(6),ae=Q(7),se=Q(8)},(le,q,Q)=>{Q.r(q),Q.d(q,{registerTouchInteractions:()=>se});var ee=void 0,ae=function(H,c){var Le,Oe;return["touchstart","touchmove"].indexOf(H.type)>-1&&(!((Le=H.touches)===null||Le===void 0)&&Le.length)?(c||H.preventDefault(),{clientX:H.touches[0].clientX,clientY:H.touches[0].clientY}):H.type==="touchend"&&(!((Oe=H.changedTouches)===null||Oe===void 0)&&Oe.length)?{clientX:H.changedTouches[0].clientX,clientY:H.changedTouches[0].clientY}:{clientX:H.clientX,clientY:H.clientY}},se=function(H){var c=H.canvas,Le=H.artboard,Oe=H.stateMachines,Ge=Oe===void 0?[]:Oe,we=H.renderer,be=H.rive,We=H.fit,Ae=H.alignment,Ie=H.isTouchScrollEnabled,De=Ie===void 0?!1:Ie,Ye=H.layoutScaleFactor,ct=Ye===void 0?1:Ye;if(!c||!Ge.length||!we||!be||!Le||typeof window>"u")return null;var W=null,T=!1,f=function(A){if(T&&A instanceof MouseEvent){A.type=="mouseup"&&(T=!1);return}T=De&&A.type==="touchend"&&W==="touchstart",W=A.type;var g=A.currentTarget.getBoundingClientRect(),y=ae(A,De),L=y.clientX,M=y.clientY;if(!(!L&&!M)){var B=L-g.left,C=M-g.top,V=be.computeAlignment(We,Ae,{minX:0,minY:0,maxX:g.width,maxY:g.height},Le.bounds,ct),j=new be.Mat2D;V.invert(j);var Z=new be.Vec2D(B,C),z=be.mapXY(j,Z),X=z.x(),ve=z.y();switch(z.delete(),j.delete(),Z.delete(),V.delete(),A.type){case"mouseout":for(var K=0,Pe=Ge;K<Pe.length;K++){var _e=Pe[K];_e.pointerMove(X,ve)}break;case"touchmove":case"mouseover":case"mousemove":{for(var Be=0,Te=Ge;Be<Te.length;Be++){var _e=Te[Be];_e.pointerMove(X,ve)}break}case"touchstart":case"mousedown":{for(var je=0,$=Ge;je<$.length;je++){var _e=$[je];_e.pointerDown(X,ve)}break}case"touchend":case"mouseup":{for(var ce=0,Ve=Ge;ce<Ve.length;ce++){var _e=Ve[ce];_e.pointerUp(X,ve)}break}}}},_=f.bind(ee);return c.addEventListener("mouseover",_),c.addEventListener("mouseout",_),c.addEventListener("mousemove",_),c.addEventListener("mousedown",_),c.addEventListener("mouseup",_),c.addEventListener("touchmove",_,{passive:De}),c.addEventListener("touchstart",_,{passive:De}),c.addEventListener("touchend",_),function(){c.removeEventListener("mouseover",_),c.removeEventListener("mouseout",_),c.removeEventListener("mousemove",_),c.removeEventListener("mousedown",_),c.removeEventListener("mouseup",_),c.removeEventListener("touchmove",_),c.removeEventListener("touchstart",_),c.removeEventListener("touchend",_)}}},(le,q,Q)=>{Q.r(q),Q.d(q,{BLANK_URL:()=>Oe,sanitizeUrl:()=>be});var ee=/^([^\w]*)(javascript|data|vbscript)/im,ae=/&#(\w+)(^\w|;)?/g,se=/&(newline|tab);/gi,H=/[\u0000-\u001F\u007F-\u009F\u2000-\u200D\uFEFF]/gim,c=/^.+(:|&colon;)/gim,Le=[".","/"],Oe="about:blank";function Ge(We){return Le.indexOf(We[0])>-1}function we(We){var Ae=We.replace(H,"");return Ae.replace(ae,function(Ie,De){return String.fromCharCode(De)})}function be(We){if(!We)return Oe;var Ae=we(We).replace(se,"").replace(H,"").trim();if(!Ae)return Oe;if(Ge(Ae))return Ae;var Ie=Ae.match(c);if(!Ie)return Ae;var De=Ie[0];return ee.test(De)?Oe:Ae}},(le,q,Q)=>{Q.r(q),Q.d(q,{AudioAssetWrapper:()=>We,AudioWrapper:()=>Le,CustomFileAssetLoaderWrapper:()=>Ge,FileAssetWrapper:()=>we,FileFinalizer:()=>ae,FontAssetWrapper:()=>Ae,FontWrapper:()=>Oe,ImageAssetWrapper:()=>be,ImageWrapper:()=>c,createFinalization:()=>ct,finalizationRegistry:()=>Ye});var ee=function(){var W=function(T,f){return W=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,A){_.__proto__=A}||function(_,A){for(var g in A)Object.prototype.hasOwnProperty.call(A,g)&&(_[g]=A[g])},W(T,f)};return function(T,f){if(typeof f!="function"&&f!==null)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");W(T,f);function _(){this.constructor=T}T.prototype=f===null?Object.create(f):(_.prototype=f.prototype,new _)}}(),ae=function(){function W(T){this.selfUnref=!1,this._file=T}return W.prototype.unref=function(){this._file&&this._file.unref()},W}(),se=function(){function W(T){this._finalizableObject=T}return W.prototype.unref=function(){this._finalizableObject.unref()},W}(),H=function(){function W(){this.selfUnref=!1}return W.prototype.unref=function(){},W}(),c=function(W){ee(T,W);function T(f){var _=W.call(this)||this;return _._nativeImage=f,_}return Object.defineProperty(T.prototype,"nativeImage",{get:function(){return this._nativeImage},enumerable:!1,configurable:!0}),T.prototype.unref=function(){this.selfUnref&&this._nativeImage.unref()},T}(H),Le=function(W){ee(T,W);function T(f){var _=W.call(this)||this;return _._nativeAudio=f,_}return Object.defineProperty(T.prototype,"nativeAudio",{get:function(){return this._nativeAudio},enumerable:!1,configurable:!0}),T.prototype.unref=function(){this.selfUnref&&this._nativeAudio.unref()},T}(H),Oe=function(W){ee(T,W);function T(f){var _=W.call(this)||this;return _._nativeFont=f,_}return Object.defineProperty(T.prototype,"nativeFont",{get:function(){return this._nativeFont},enumerable:!1,configurable:!0}),T.prototype.unref=function(){this.selfUnref&&this._nativeFont.unref()},T}(H),Ge=function(){function W(T,f){this._assetLoaderCallback=f,this.assetLoader=new T.CustomFileAssetLoader({loadContents:this.loadContents.bind(this)})}return W.prototype.loadContents=function(T,f){var _;return T.isImage?_=new be(T):T.isAudio?_=new We(T):T.isFont&&(_=new Ae(T)),this._assetLoaderCallback(_,f)},W}(),we=function(){function W(T){this._nativeFileAsset=T}return W.prototype.decode=function(T){this._nativeFileAsset.decode(T)},Object.defineProperty(W.prototype,"name",{get:function(){return this._nativeFileAsset.name},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"fileExtension",{get:function(){return this._nativeFileAsset.fileExtension},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"uniqueFilename",{get:function(){return this._nativeFileAsset.uniqueFilename},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"isAudio",{get:function(){return this._nativeFileAsset.isAudio},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"isImage",{get:function(){return this._nativeFileAsset.isImage},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"isFont",{get:function(){return this._nativeFileAsset.isFont},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"cdnUuid",{get:function(){return this._nativeFileAsset.cdnUuid},enumerable:!1,configurable:!0}),Object.defineProperty(W.prototype,"nativeFileAsset",{get:function(){return this._nativeFileAsset},enumerable:!1,configurable:!0}),W}(),be=function(W){ee(T,W);function T(){return W!==null&&W.apply(this,arguments)||this}return T.prototype.setRenderImage=function(f){this._nativeFileAsset.setRenderImage(f.nativeImage)},T}(we),We=function(W){ee(T,W);function T(){return W!==null&&W.apply(this,arguments)||this}return T.prototype.setAudioSource=function(f){this._nativeFileAsset.setAudioSource(f.nativeAudio)},T}(we),Ae=function(W){ee(T,W);function T(){return W!==null&&W.apply(this,arguments)||this}return T.prototype.setFont=function(f){this._nativeFileAsset.setFont(f.nativeFont)},T}(we),Ie=function(){function W(T){}return W.prototype.register=function(T){T.selfUnref=!0},W.prototype.unregister=function(T){},W}(),De=typeof FinalizationRegistry<"u"?FinalizationRegistry:Ie,Ye=new De(function(W){W==null||W.unref()}),ct=function(W,T){var f=new se(T);Ye.register(W,f)}}],Qe={};function Re(le){var q=Qe[le];if(q!==void 0)return q.exports;var Q=Qe[le]={exports:{}};return ke[le](Q,Q.exports,Re),Q.exports}Re.d=(le,q)=>{for(var Q in q)Re.o(q,Q)&&!Re.o(le,Q)&&Object.defineProperty(le,Q,{enumerable:!0,get:q[Q]})},Re.o=(le,q)=>Object.prototype.hasOwnProperty.call(le,q),Re.r=le=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(le,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(le,"__esModule",{value:!0})};var Se={};return(()=>{Re.r(Se),Re.d(Se,{Alignment:()=>be,DataEnum:()=>ve,EventType:()=>f,Fit:()=>we,Layout:()=>We,LoopType:()=>_,Rive:()=>z,RiveEventType:()=>Ye,RiveFile:()=>Z,RuntimeLoader:()=>Ae,StateMachineInput:()=>De,StateMachineInputType:()=>Ie,Testing:()=>jt,ViewModel:()=>X,ViewModelInstance:()=>Pe,ViewModelInstanceArtboard:()=>rt,ViewModelInstanceAssetImage:()=>mt,ViewModelInstanceBoolean:()=>je,ViewModelInstanceColor:()=>Ce,ViewModelInstanceEnum:()=>ce,ViewModelInstanceList:()=>Ve,ViewModelInstanceNumber:()=>Te,ViewModelInstanceString:()=>Be,ViewModelInstanceTrigger:()=>$,ViewModelInstanceValue:()=>_e,decodeAudio:()=>Vt,decodeFont:()=>it,decodeImage:()=>Ut});var le=Re(1),q=Re(2),Q=Re(3),ee=Re(5),ae=function(){var a=function(n,i){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,h){u.__proto__=h}||function(u,h){for(var w in h)Object.prototype.hasOwnProperty.call(h,w)&&(u[w]=h[w])},a(n,i)};return function(n,i){if(typeof i!="function"&&i!==null)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");a(n,i);function u(){this.constructor=n}n.prototype=i===null?Object.create(i):(u.prototype=i.prototype,new u)}}(),se=function(){return se=Object.assign||function(a){for(var n,i=1,u=arguments.length;i<u;i++){n=arguments[i];for(var h in n)Object.prototype.hasOwnProperty.call(n,h)&&(a[h]=n[h])}return a},se.apply(this,arguments)},H=function(a,n,i,u){function h(w){return w instanceof i?w:new i(function(R){R(w)})}return new(i||(i=Promise))(function(w,R){function Y(oe){try{N(u.next(oe))}catch(me){R(me)}}function J(oe){try{N(u.throw(oe))}catch(me){R(me)}}function N(oe){oe.done?w(oe.value):h(oe.value).then(Y,J)}N((u=u.apply(a,n||[])).next())})},c=function(a,n){var i={label:0,sent:function(){if(w[0]&1)throw w[1];return w[1]},trys:[],ops:[]},u,h,w,R=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return R.next=Y(0),R.throw=Y(1),R.return=Y(2),typeof Symbol=="function"&&(R[Symbol.iterator]=function(){return this}),R;function Y(N){return function(oe){return J([N,oe])}}function J(N){if(u)throw new TypeError("Generator is already executing.");for(;R&&(R=0,N[0]&&(i=0)),i;)try{if(u=1,h&&(w=N[0]&2?h.return:N[0]?h.throw||((w=h.return)&&w.call(h),0):h.next)&&!(w=w.call(h,N[1])).done)return w;switch(h=0,w&&(N=[N[0]&2,w.value]),N[0]){case 0:case 1:w=N;break;case 4:return i.label++,{value:N[1],done:!1};case 5:i.label++,h=N[1],N=[0];continue;case 7:N=i.ops.pop(),i.trys.pop();continue;default:if(w=i.trys,!(w=w.length>0&&w[w.length-1])&&(N[0]===6||N[0]===2)){i=0;continue}if(N[0]===3&&(!w||N[1]>w[0]&&N[1]<w[3])){i.label=N[1];break}if(N[0]===6&&i.label<w[1]){i.label=w[1],w=N;break}if(w&&i.label<w[2]){i.label=w[2],i.ops.push(N);break}w[2]&&i.ops.pop(),i.trys.pop();continue}N=n.call(a,i)}catch(oe){N=[6,oe],h=0}finally{u=w=0}if(N[0]&5)throw N[1];return{value:N[0]?N[1]:void 0,done:!0}}},Le=function(a,n,i){if(i||arguments.length===2)for(var u=0,h=n.length,w;u<h;u++)(w||!(u in n))&&(w||(w=Array.prototype.slice.call(n,0,u)),w[u]=n[u]);return a.concat(w||Array.prototype.slice.call(n))},Oe=function(a){ae(n,a);function n(){var i=a!==null&&a.apply(this,arguments)||this;return i.isHandledError=!0,i}return n}(Error),Ge=function(a){return a&&a.isHandledError?a.message:"Problem loading file; may be corrupt!"},we;(function(a){a.Cover="cover",a.Contain="contain",a.Fill="fill",a.FitWidth="fitWidth",a.FitHeight="fitHeight",a.None="none",a.ScaleDown="scaleDown",a.Layout="layout"})(we||(we={}));var be;(function(a){a.Center="center",a.TopLeft="topLeft",a.TopCenter="topCenter",a.TopRight="topRight",a.CenterLeft="centerLeft",a.CenterRight="centerRight",a.BottomLeft="bottomLeft",a.BottomCenter="bottomCenter",a.BottomRight="bottomRight"})(be||(be={}));var We=function(){function a(n){var i,u,h,w,R,Y,J;this.fit=(i=n==null?void 0:n.fit)!==null&&i!==void 0?i:we.Contain,this.alignment=(u=n==null?void 0:n.alignment)!==null&&u!==void 0?u:be.Center,this.layoutScaleFactor=(h=n==null?void 0:n.layoutScaleFactor)!==null&&h!==void 0?h:1,this.minX=(w=n==null?void 0:n.minX)!==null&&w!==void 0?w:0,this.minY=(R=n==null?void 0:n.minY)!==null&&R!==void 0?R:0,this.maxX=(Y=n==null?void 0:n.maxX)!==null&&Y!==void 0?Y:0,this.maxY=(J=n==null?void 0:n.maxY)!==null&&J!==void 0?J:0}return a.new=function(n){var i=n.fit,u=n.alignment,h=n.minX,w=n.minY,R=n.maxX,Y=n.maxY;return console.warn("This function is deprecated: please use `new Layout({})` instead"),new a({fit:i,alignment:u,minX:h,minY:w,maxX:R,maxY:Y})},a.prototype.copyWith=function(n){var i=n.fit,u=n.alignment,h=n.layoutScaleFactor,w=n.minX,R=n.minY,Y=n.maxX,J=n.maxY;return new a({fit:i??this.fit,alignment:u??this.alignment,layoutScaleFactor:h??this.layoutScaleFactor,minX:w??this.minX,minY:R??this.minY,maxX:Y??this.maxX,maxY:J??this.maxY})},a.prototype.runtimeFit=function(n){if(this.cachedRuntimeFit)return this.cachedRuntimeFit;var i;return this.fit===we.Cover?i=n.Fit.cover:this.fit===we.Contain?i=n.Fit.contain:this.fit===we.Fill?i=n.Fit.fill:this.fit===we.FitWidth?i=n.Fit.fitWidth:this.fit===we.FitHeight?i=n.Fit.fitHeight:this.fit===we.ScaleDown?i=n.Fit.scaleDown:this.fit===we.Layout?i=n.Fit.layout:i=n.Fit.none,this.cachedRuntimeFit=i,i},a.prototype.runtimeAlignment=function(n){if(this.cachedRuntimeAlignment)return this.cachedRuntimeAlignment;var i;return this.alignment===be.TopLeft?i=n.Alignment.topLeft:this.alignment===be.TopCenter?i=n.Alignment.topCenter:this.alignment===be.TopRight?i=n.Alignment.topRight:this.alignment===be.CenterLeft?i=n.Alignment.centerLeft:this.alignment===be.CenterRight?i=n.Alignment.centerRight:this.alignment===be.BottomLeft?i=n.Alignment.bottomLeft:this.alignment===be.BottomCenter?i=n.Alignment.bottomCenter:this.alignment===be.BottomRight?i=n.Alignment.bottomRight:i=n.Alignment.center,this.cachedRuntimeAlignment=i,i},a}(),Ae=function(){function a(){}return a.loadRuntime=function(){le.default({locateFile:function(){return a.wasmURL}}).then(function(n){var i;for(a.runtime=n;a.callBackQueue.length>0;)(i=a.callBackQueue.shift())===null||i===void 0||i(a.runtime)}).catch(function(n){var i={message:(n==null?void 0:n.message)||"Unknown error",type:(n==null?void 0:n.name)||"Error",wasmError:n instanceof WebAssembly.CompileError||n instanceof WebAssembly.RuntimeError,originalError:n};console.debug("Rive WASM load error details:",i);var u="https://cdn.jsdelivr.net/npm/".concat(q.name,"@").concat(q.version,"/rive_fallback.wasm");if(a.wasmURL.toLowerCase()!==u)console.warn("Failed to load WASM from ".concat(a.wasmURL," (").concat(i.message,"), trying jsdelivr as a backup")),a.setWasmUrl(u),a.loadRuntime();else{var h=["Could not load Rive WASM file from ".concat(a.wasmURL," or ").concat(u,"."),"Possible reasons:","- Network connection is down","- WebAssembly is not supported in this environment","- The WASM file is corrupted or incompatible",`
Error details:`,"- Type: ".concat(i.type),"- Message: ".concat(i.message),"- WebAssembly-specific error: ".concat(i.wasmError),`
To resolve, you may need to:`,"1. Check your network connection","2. Set a new WASM source via RuntimeLoader.setWasmUrl()","3. Call RuntimeLoader.loadRuntime() again"].join(`
`);console.error(h)}})},a.getInstance=function(n){a.isLoading||(a.isLoading=!0,a.loadRuntime()),a.runtime?n(a.runtime):a.callBackQueue.push(n)},a.awaitInstance=function(){return new Promise(function(n){return a.getInstance(function(i){return n(i)})})},a.setWasmUrl=function(n){a.wasmURL=n},a.getWasmUrl=function(){return a.wasmURL},a.isLoading=!1,a.callBackQueue=[],a.wasmURL="https://unpkg.com/".concat(q.name,"@").concat(q.version,"/rive.wasm"),a}(),Ie;(function(a){a[a.Number=56]="Number",a[a.Trigger=58]="Trigger",a[a.Boolean=59]="Boolean"})(Ie||(Ie={}));var De=function(){function a(n,i){this.type=n,this.runtimeInput=i}return Object.defineProperty(a.prototype,"name",{get:function(){return this.runtimeInput.name},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"value",{get:function(){return this.runtimeInput.value},set:function(n){this.runtimeInput.value=n},enumerable:!1,configurable:!0}),a.prototype.fire=function(){this.type===Ie.Trigger&&this.runtimeInput.fire()},a.prototype.delete=function(){this.runtimeInput=null},a}(),Ye;(function(a){a[a.General=128]="General",a[a.OpenUrl=131]="OpenUrl"})(Ye||(Ye={}));var ct=function(){function a(n){this.nativeArtboard=n}return a}(),W=function(){function a(n,i,u,h){this.stateMachine=n,this.playing=u,this.artboard=h,this.inputs=[],this.instance=new i.StateMachineInstance(n,h),this.initInputs(i)}return Object.defineProperty(a.prototype,"name",{get:function(){return this.stateMachine.name},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"statesChanged",{get:function(){for(var n=[],i=0;i<this.instance.stateChangedCount();i++)n.push(this.instance.stateChangedNameByIndex(i));return n},enumerable:!1,configurable:!0}),a.prototype.advance=function(n){this.instance.advance(n)},a.prototype.advanceAndApply=function(n){this.instance.advanceAndApply(n)},a.prototype.reportedEventCount=function(){return this.instance.reportedEventCount()},a.prototype.reportedEventAt=function(n){return this.instance.reportedEventAt(n)},a.prototype.initInputs=function(n){for(var i=0;i<this.instance.inputCount();i++){var u=this.instance.input(i);this.inputs.push(this.mapRuntimeInput(u,n))}},a.prototype.mapRuntimeInput=function(n,i){if(n.type===i.SMIInput.bool)return new De(Ie.Boolean,n.asBool());if(n.type===i.SMIInput.number)return new De(Ie.Number,n.asNumber());if(n.type===i.SMIInput.trigger)return new De(Ie.Trigger,n.asTrigger())},a.prototype.cleanup=function(){this.inputs.forEach(function(n){n.delete()}),this.inputs.length=0,this.instance.delete()},a.prototype.bindViewModelInstance=function(n){n.runtimeInstance!=null&&this.instance.bindViewModelInstance(n.runtimeInstance)},a}(),T=function(){function a(n,i,u,h,w){h===void 0&&(h=[]),w===void 0&&(w=[]),this.runtime=n,this.artboard=i,this.eventManager=u,this.animations=h,this.stateMachines=w}return a.prototype.add=function(n,i,u){if(u===void 0&&(u=!0),n=Ue(n),n.length===0)this.animations.forEach(function(Fe){return Fe.playing=i}),this.stateMachines.forEach(function(Fe){return Fe.playing=i});else for(var h=this.animations.map(function(Fe){return Fe.name}),w=this.stateMachines.map(function(Fe){return Fe.name}),R=0;R<n.length;R++){var Y=h.indexOf(n[R]),J=w.indexOf(n[R]);if(Y>=0||J>=0)Y>=0?this.animations[Y].playing=i:this.stateMachines[J].playing=i;else{var N=this.artboard.animationByName(n[R]);if(N){var oe=new Q.Animation(N,this.artboard,this.runtime,i);oe.advance(0),oe.apply(1),this.animations.push(oe)}else{var me=this.artboard.stateMachineByName(n[R]);if(me){var Ne=new W(me,this.runtime,i,this.artboard);this.stateMachines.push(Ne)}}}}return u&&(i?this.eventManager.fire({type:f.Play,data:this.playing}):this.eventManager.fire({type:f.Pause,data:this.paused})),i?this.playing:this.paused},a.prototype.initLinearAnimations=function(n,i){for(var u=this.animations.map(function(J){return J.name}),h=0;h<n.length;h++){var w=u.indexOf(n[h]);if(w>=0)this.animations[w].playing=i;else{var R=this.artboard.animationByName(n[h]);if(R){var Y=new Q.Animation(R,this.artboard,this.runtime,i);Y.advance(0),Y.apply(1),this.animations.push(Y)}else console.error("Animation with name ".concat(n[h]," not found."))}}},a.prototype.initStateMachines=function(n,i){for(var u=this.stateMachines.map(function(J){return J.name}),h=0;h<n.length;h++){var w=u.indexOf(n[h]);if(w>=0)this.stateMachines[w].playing=i;else{var R=this.artboard.stateMachineByName(n[h]);if(R){var Y=new W(R,this.runtime,i,this.artboard);this.stateMachines.push(Y)}else console.warn("State Machine with name ".concat(n[h]," not found.")),this.initLinearAnimations([n[h]],i)}}},a.prototype.play=function(n){return this.add(n,!0)},a.prototype.advanceIfPaused=function(){this.stateMachines.forEach(function(n){n.playing||n.advanceAndApply(0)})},a.prototype.pause=function(n){return this.add(n,!1)},a.prototype.scrub=function(n,i){var u=this.animations.filter(function(h){return n.includes(h.name)});return u.forEach(function(h){return h.scrubTo=i}),u.map(function(h){return h.name})},Object.defineProperty(a.prototype,"playing",{get:function(){return this.animations.filter(function(n){return n.playing}).map(function(n){return n.name}).concat(this.stateMachines.filter(function(n){return n.playing}).map(function(n){return n.name}))},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"paused",{get:function(){return this.animations.filter(function(n){return!n.playing}).map(function(n){return n.name}).concat(this.stateMachines.filter(function(n){return!n.playing}).map(function(n){return n.name}))},enumerable:!1,configurable:!0}),a.prototype.stop=function(n){var i=this;n=Ue(n);var u=[];if(n.length===0)u=this.animations.map(function(R){return R.name}).concat(this.stateMachines.map(function(R){return R.name})),this.animations.forEach(function(R){return R.cleanup()}),this.stateMachines.forEach(function(R){return R.cleanup()}),this.animations.splice(0,this.animations.length),this.stateMachines.splice(0,this.stateMachines.length);else{var h=this.animations.filter(function(R){return n.includes(R.name)});h.forEach(function(R){R.cleanup(),i.animations.splice(i.animations.indexOf(R),1)});var w=this.stateMachines.filter(function(R){return n.includes(R.name)});w.forEach(function(R){R.cleanup(),i.stateMachines.splice(i.stateMachines.indexOf(R),1)}),u=h.map(function(R){return R.name}).concat(w.map(function(R){return R.name}))}return this.eventManager.fire({type:f.Stop,data:u}),u},Object.defineProperty(a.prototype,"isPlaying",{get:function(){return this.animations.reduce(function(n,i){return n||i.playing},!1)||this.stateMachines.reduce(function(n,i){return n||i.playing},!1)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isPaused",{get:function(){return!this.isPlaying&&(this.animations.length>0||this.stateMachines.length>0)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isStopped",{get:function(){return this.animations.length===0&&this.stateMachines.length===0},enumerable:!1,configurable:!0}),a.prototype.atLeastOne=function(n,i){i===void 0&&(i=!0);var u;return this.animations.length===0&&this.stateMachines.length===0&&(this.artboard.animationCount()>0?this.add([u=this.artboard.animationByIndex(0).name],n,i):this.artboard.stateMachineCount()>0&&this.add([u=this.artboard.stateMachineByIndex(0).name],n,i)),u},a.prototype.handleLooping=function(){for(var n=0,i=this.animations.filter(function(h){return h.playing});n<i.length;n++){var u=i[n];u.loopValue===0&&u.loopCount?(u.loopCount=0,this.stop(u.name)):u.loopValue===1&&u.loopCount?(this.eventManager.fire({type:f.Loop,data:{animation:u.name,type:_.Loop}}),u.loopCount=0):u.loopValue===2&&u.loopCount>1&&(this.eventManager.fire({type:f.Loop,data:{animation:u.name,type:_.PingPong}}),u.loopCount=0)}},a.prototype.handleStateChanges=function(){for(var n=[],i=0,u=this.stateMachines.filter(function(w){return w.playing});i<u.length;i++){var h=u[i];n.push.apply(n,h.statesChanged)}n.length>0&&this.eventManager.fire({type:f.StateChange,data:n})},a.prototype.handleAdvancing=function(n){this.eventManager.fire({type:f.Advance,data:n})},a}(),f;(function(a){a.Load="load",a.LoadError="loaderror",a.Play="play",a.Pause="pause",a.Stop="stop",a.Loop="loop",a.Draw="draw",a.Advance="advance",a.StateChange="statechange",a.RiveEvent="riveevent",a.AudioStatusChange="audiostatuschange"})(f||(f={}));var _;(function(a){a.OneShot="oneshot",a.Loop="loop",a.PingPong="pingpong"})(_||(_={}));var A=function(){function a(n){n===void 0&&(n=[]),this.listeners=n}return a.prototype.getListeners=function(n){return this.listeners.filter(function(i){return i.type===n})},a.prototype.add=function(n){this.listeners.includes(n)||this.listeners.push(n)},a.prototype.remove=function(n){for(var i=0;i<this.listeners.length;i++){var u=this.listeners[i];if(u.type===n.type&&u.callback===n.callback){this.listeners.splice(i,1);break}}},a.prototype.removeAll=function(n){var i=this;n?this.listeners.filter(function(u){return u.type===n}).forEach(function(u){return i.remove(u)}):this.listeners.splice(0,this.listeners.length)},a.prototype.fire=function(n){var i=this.getListeners(n.type);i.forEach(function(u){return u.callback(n)})},a}(),g=function(){function a(n){this.eventManager=n,this.queue=[]}return a.prototype.add=function(n){this.queue.push(n)},a.prototype.process=function(){for(;this.queue.length>0;){var n=this.queue.shift();n!=null&&n.action&&n.action(),n!=null&&n.event&&this.eventManager.fire(n.event)}},a}(),y;(function(a){a[a.AVAILABLE=0]="AVAILABLE",a[a.UNAVAILABLE=1]="UNAVAILABLE"})(y||(y={}));var L=function(a){ae(n,a);function n(){var i=a!==null&&a.apply(this,arguments)||this;return i._started=!1,i._enabled=!1,i._status=y.UNAVAILABLE,i}return n.prototype.delay=function(i){return H(this,void 0,void 0,function(){return c(this,function(u){return[2,new Promise(function(h){return setTimeout(h,i)})]})})},n.prototype.timeout=function(){return H(this,void 0,void 0,function(){return c(this,function(i){return[2,new Promise(function(u,h){return setTimeout(h,50)})]})})},n.prototype.reportToListeners=function(){this.fire({type:f.AudioStatusChange}),this.removeAll()},n.prototype.enableAudio=function(){return H(this,void 0,void 0,function(){return c(this,function(i){return this._enabled||(this._enabled=!0,this._status=y.AVAILABLE,this.reportToListeners()),[2]})})},n.prototype.testAudio=function(){return H(this,void 0,void 0,function(){return c(this,function(i){switch(i.label){case 0:if(!(this._status===y.UNAVAILABLE&&this._audioContext!==null))return[3,4];i.label=1;case 1:return i.trys.push([1,3,,4]),[4,Promise.race([this._audioContext.resume(),this.timeout()])];case 2:return i.sent(),this.enableAudio(),[3,4];case 3:return i.sent(),[3,4];case 4:return[2]}})})},n.prototype._establishAudio=function(){return H(this,void 0,void 0,function(){return c(this,function(i){switch(i.label){case 0:return this._started?[3,5]:(this._started=!0,typeof window>"u"?(this.enableAudio(),[3,5]):[3,1]);case 1:this._audioContext=new AudioContext,this.listenForUserAction(),i.label=2;case 2:return this._status!==y.UNAVAILABLE?[3,5]:[4,this.testAudio()];case 3:return i.sent(),[4,this.delay(1e3)];case 4:return i.sent(),[3,2];case 5:return[2]}})})},n.prototype.listenForUserAction=function(){var i=this,u=function(){return H(i,void 0,void 0,function(){return c(this,function(h){return this.enableAudio(),[2]})})};document.addEventListener("pointerdown",u,{once:!0})},n.prototype.establishAudio=function(){return H(this,void 0,void 0,function(){return c(this,function(i){return this._establishAudio(),[2]})})},Object.defineProperty(n.prototype,"systemVolume",{get:function(){return this._status===y.UNAVAILABLE?(this.testAudio(),0):1},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"status",{get:function(){return this._status},enumerable:!1,configurable:!0}),n}(A),M=new L,B=function(){function a(){}return a.prototype.observe=function(){},a.prototype.unobserve=function(){},a.prototype.disconnect=function(){},a}(),C=globalThis.ResizeObserver||B,V=function(){function a(){var n=this;this._elementsMap=new Map,this._onObservedEntry=function(i){var u=n._elementsMap.get(i.target);u!==null?u.onResize(i.target.clientWidth==0||i.target.clientHeight==0):n._resizeObserver.unobserve(i.target)},this._onObserved=function(i){i.forEach(n._onObservedEntry)},this._resizeObserver=new C(this._onObserved)}return a.prototype.add=function(n,i){var u={onResize:i,element:n};return this._elementsMap.set(n,u),this._resizeObserver.observe(n),u},a.prototype.remove=function(n){this._resizeObserver.unobserve(n.element),this._elementsMap.delete(n.element)},a}(),j=new V,Z=function(){function a(n){this.enableRiveAssetCDN=!0,this.referenceCount=0,this.destroyed=!1,this.selfUnref=!1,this.src=n.src,this.buffer=n.buffer,n.assetLoader&&(this.assetLoader=n.assetLoader),this.enableRiveAssetCDN=typeof n.enableRiveAssetCDN=="boolean"?n.enableRiveAssetCDN:!0,this.eventManager=new A,n.onLoad&&this.on(f.Load,n.onLoad),n.onLoadError&&this.on(f.LoadError,n.onLoadError)}return a.prototype.releaseFile=function(){var n;this.selfUnref&&((n=this.file)===null||n===void 0||n.unref()),this.file=null},a.prototype.initData=function(){return H(this,void 0,void 0,function(){var n,i,u,h,w;return c(this,function(R){switch(R.label){case 0:return this.src?(n=this,[4,St(this.src)]):[3,2];case 1:n.buffer=R.sent(),R.label=2;case 2:return this.destroyed?[2]:(this.assetLoader&&(u=new ee.CustomFileAssetLoaderWrapper(this.runtime,this.assetLoader),i=u.assetLoader),h=this,[4,this.runtime.load(new Uint8Array(this.buffer),i,this.enableRiveAssetCDN)]);case 3:return h.file=R.sent(),w=new ee.FileFinalizer(this.file),ee.finalizationRegistry.register(this,w),this.destroyed?(this.releaseFile(),[2]):(this.file!==null?this.eventManager.fire({type:f.Load,data:this}):this.fireLoadError(a.fileLoadErrorMessage),[2])}})})},a.prototype.init=function(){return H(this,void 0,void 0,function(){var n,i;return c(this,function(u){switch(u.label){case 0:if(!this.src&&!this.buffer)return this.fireLoadError(a.missingErrorMessage),[2];u.label=1;case 1:return u.trys.push([1,4,,5]),n=this,[4,Ae.awaitInstance()];case 2:return n.runtime=u.sent(),this.destroyed?[2]:[4,this.initData()];case 3:return u.sent(),[3,5];case 4:return i=u.sent(),this.fireLoadError(i instanceof Error?i.message:a.fileLoadErrorMessage),[3,5];case 5:return[2]}})})},a.prototype.fireLoadError=function(n){throw this.eventManager.fire({type:f.LoadError,data:n}),new Error(n)},a.prototype.on=function(n,i){this.eventManager.add({type:n,callback:i})},a.prototype.off=function(n,i){this.eventManager.remove({type:n,callback:i})},a.prototype.cleanup=function(){this.referenceCount-=1,this.referenceCount<=0&&(this.removeAllRiveEventListeners(),this.releaseFile(),this.destroyed=!0)},a.prototype.removeAllRiveEventListeners=function(n){this.eventManager.removeAll(n)},a.prototype.getInstance=function(){if(this.file!==null)return this.referenceCount+=1,this.file},a.prototype.destroyIfUnused=function(){this.referenceCount<=0&&this.cleanup()},a.prototype.getArtboard=function(n){var i=this.file.artboardByName(n);return i!=null?new ct(i):null},a.missingErrorMessage="Rive source file or data buffer required",a.fileLoadErrorMessage="The file failed to load",a}(),z=function(){function a(n){var i=this,u;this.loaded=!1,this.destroyed=!1,this._observed=null,this.readyForPlaying=!1,this.artboard=null,this.eventCleanup=null,this.shouldDisableRiveListeners=!1,this.automaticallyHandleEvents=!1,this.enableRiveAssetCDN=!0,this._volume=1,this._artboardWidth=void 0,this._artboardHeight=void 0,this._devicePixelRatioUsed=1,this._hasZeroSize=!1,this._audioEventListener=null,this._boundDraw=null,this._viewModelInstance=null,this._dataEnums=null,this.durations=[],this.frameTimes=[],this.frameCount=0,this.isTouchScrollEnabled=!1,this.onCanvasResize=function(h){var w=i._hasZeroSize!==h;i._hasZeroSize=h,h?(!i._layout.maxX||!i._layout.maxY)&&i.resizeToCanvas():w&&i.resizeDrawingSurfaceToCanvas()},this.renderSecondTimer=0,this._boundDraw=this.draw.bind(this),this.canvas=n.canvas,n.canvas.constructor===HTMLCanvasElement&&(this._observed=j.add(this.canvas,this.onCanvasResize)),this.src=n.src,this.buffer=n.buffer,this.riveFile=n.riveFile,this.layout=(u=n.layout)!==null&&u!==void 0?u:new We,this.shouldDisableRiveListeners=!!n.shouldDisableRiveListeners,this.isTouchScrollEnabled=!!n.isTouchScrollEnabled,this.automaticallyHandleEvents=!!n.automaticallyHandleEvents,this.enableRiveAssetCDN=n.enableRiveAssetCDN===void 0?!0:n.enableRiveAssetCDN,this.eventManager=new A,n.onLoad&&this.on(f.Load,n.onLoad),n.onLoadError&&this.on(f.LoadError,n.onLoadError),n.onPlay&&this.on(f.Play,n.onPlay),n.onPause&&this.on(f.Pause,n.onPause),n.onStop&&this.on(f.Stop,n.onStop),n.onLoop&&this.on(f.Loop,n.onLoop),n.onStateChange&&this.on(f.StateChange,n.onStateChange),n.onAdvance&&this.on(f.Advance,n.onAdvance),n.onload&&!n.onLoad&&this.on(f.Load,n.onload),n.onloaderror&&!n.onLoadError&&this.on(f.LoadError,n.onloaderror),n.onplay&&!n.onPlay&&this.on(f.Play,n.onplay),n.onpause&&!n.onPause&&this.on(f.Pause,n.onpause),n.onstop&&!n.onStop&&this.on(f.Stop,n.onstop),n.onloop&&!n.onLoop&&this.on(f.Loop,n.onloop),n.onstatechange&&!n.onStateChange&&this.on(f.StateChange,n.onstatechange),n.assetLoader&&(this.assetLoader=n.assetLoader),this.taskQueue=new g(this.eventManager),this.init({src:this.src,buffer:this.buffer,riveFile:this.riveFile,autoplay:n.autoplay,autoBind:n.autoBind,animations:n.animations,stateMachines:n.stateMachines,artboard:n.artboard,useOffscreenRenderer:n.useOffscreenRenderer})}return Object.defineProperty(a.prototype,"viewModelCount",{get:function(){return this.file.viewModelCount()},enumerable:!1,configurable:!0}),a.new=function(n){return console.warn("This function is deprecated: please use `new Rive({})` instead"),new a(n)},a.prototype.onSystemAudioChanged=function(){this.volume=this._volume},a.prototype.init=function(n){var i=this,u=n.src,h=n.buffer,w=n.riveFile,R=n.animations,Y=n.stateMachines,J=n.artboard,N=n.autoplay,oe=N===void 0?!1:N,me=n.useOffscreenRenderer,Ne=me===void 0?!1:me,Fe=n.autoBind,ot=Fe===void 0?!1:Fe;if(!this.destroyed){if(this.src=u,this.buffer=h,this.riveFile=w,!this.src&&!this.buffer&&!this.riveFile)throw new Oe(a.missingErrorMessage);var qe=Ue(R),Ke=Ue(Y);this.loaded=!1,this.readyForPlaying=!1,Ae.awaitInstance().then(function(Je){i.destroyed||(i.runtime=Je,i.removeRiveListeners(),i.deleteRiveRenderer(),i.renderer=i.runtime.makeRenderer(i.canvas,Ne),i.canvas.width||i.canvas.height||i.resizeDrawingSurfaceToCanvas(),i.initData(J,qe,Ke,oe,ot).then(function(et){if(et)return i.setupRiveListeners()}).catch(function(et){console.error(et)}))}).catch(function(Je){console.error(Je)})}},a.prototype.setupRiveListeners=function(n){var i=this;if(this.eventCleanup&&this.eventCleanup(),!this.shouldDisableRiveListeners){var u=(this.animator.stateMachines||[]).filter(function(w){return w.playing&&i.runtime.hasListeners(w.instance)}).map(function(w){return w.instance}),h=this.isTouchScrollEnabled;n&&"isTouchScrollEnabled"in n&&(h=n.isTouchScrollEnabled),this.eventCleanup=(0,ee.registerTouchInteractions)({canvas:this.canvas,artboard:this.artboard,stateMachines:u,renderer:this.renderer,rive:this.runtime,fit:this._layout.runtimeFit(this.runtime),alignment:this._layout.runtimeAlignment(this.runtime),isTouchScrollEnabled:h,layoutScaleFactor:this._layout.layoutScaleFactor})}},a.prototype.removeRiveListeners=function(){this.eventCleanup&&(this.eventCleanup(),this.eventCleanup=null)},a.prototype.initializeAudio=function(){var n=this,i;M.status==y.UNAVAILABLE&&!((i=this.artboard)===null||i===void 0)&&i.hasAudio&&this._audioEventListener===null&&(this._audioEventListener={type:f.AudioStatusChange,callback:function(){return n.onSystemAudioChanged()}},M.add(this._audioEventListener),M.establishAudio())},a.prototype.initArtboardSize=function(){this.artboard&&(this._artboardWidth=this.artboard.width=this._artboardWidth||this.artboard.width,this._artboardHeight=this.artboard.height=this._artboardHeight||this.artboard.height)},a.prototype.initData=function(n,i,u,h,w){return H(this,void 0,void 0,function(){var R,Y,J,N;return c(this,function(oe){switch(oe.label){case 0:return oe.trys.push([0,3,,4]),this.riveFile!=null?[3,2]:(R=new Z({src:this.src,buffer:this.buffer,enableRiveAssetCDN:this.enableRiveAssetCDN,assetLoader:this.assetLoader}),this.riveFile=R,[4,R.init()]);case 1:if(oe.sent(),this.destroyed)return R.destroyIfUnused(),[2,!1];oe.label=2;case 2:return this.file=this.riveFile.getInstance(),this.initArtboard(n,i,u,h,w),this.initArtboardSize(),this.initializeAudio(),this.loaded=!0,this.eventManager.fire({type:f.Load,data:(N=this.src)!==null&&N!==void 0?N:"buffer"}),this.animator.advanceIfPaused(),this.readyForPlaying=!0,this.taskQueue.process(),this.drawFrame(),[2,!0];case 3:return Y=oe.sent(),J=Ge(Y),console.warn(J),this.eventManager.fire({type:f.LoadError,data:J}),[2,Promise.reject(J)];case 4:return[2]}})})},a.prototype.initArtboard=function(n,i,u,h,w){if(this.file){var R=n?this.file.artboardByName(n):this.file.defaultArtboard();if(!R){var Y="Invalid artboard name or no default artboard";console.warn(Y),this.eventManager.fire({type:f.LoadError,data:Y});return}this.artboard=R,R.volume=this._volume*M.systemVolume,this.animator=new T(this.runtime,this.artboard,this.eventManager);var J;if(i.length>0||u.length>0?(J=i.concat(u),this.animator.initLinearAnimations(i,h),this.animator.initStateMachines(u,h)):J=[this.animator.atLeastOne(h,!1)],this.taskQueue.add({event:{type:h?f.Play:f.Pause,data:J}}),w){var N=this.file.defaultArtboardViewModel(R);if(N!==null){var oe=N.defaultInstance();if(oe!==null){var me=new Pe(oe,null);this.bindViewModelInstance(me)}}}}},a.prototype.drawFrame=function(){var n,i;!((n=document==null?void 0:document.timeline)===null||n===void 0)&&n.currentTime?this.loaded&&this.artboard&&!this.frameRequestId&&(this._boundDraw(document.timeline.currentTime),(i=this.runtime)===null||i===void 0||i.resolveAnimationFrame()):this.startRendering()},a.prototype.draw=function(n,i){var u;this.frameRequestId=null;var h=performance.now();this.lastRenderTime||(this.lastRenderTime=n),this.renderSecondTimer+=n-this.lastRenderTime,this.renderSecondTimer>5e3&&(this.renderSecondTimer=0,i==null||i());var w=(n-this.lastRenderTime)/1e3;this.lastRenderTime=n;for(var R=this.animator.animations.filter(function(dt){return dt.playing||dt.needsScrub}).sort(function(dt){return dt.needsScrub?-1:1}),Y=0,J=R;Y<J.length;Y++){var N=J[Y];N.advance(w),N.instance.didLoop&&(N.loopCount+=1),N.apply(1)}for(var oe=this.animator.stateMachines.filter(function(dt){return dt.playing}),me=0,Ne=oe;me<Ne.length;me++){var Fe=Ne[me],ot=Fe.reportedEventCount();if(ot)for(var qe=0;qe<ot;qe++){var Ke=Fe.reportedEventAt(qe);if(Ke)if(Ke.type===Ye.OpenUrl){if(this.eventManager.fire({type:f.RiveEvent,data:Ke}),this.automaticallyHandleEvents){var Je=document.createElement("a"),et=Ke,At=et.url,Ct=et.target,ft=(0,ee.sanitizeUrl)(At);At&&Je.setAttribute("href",ft),Ct&&Je.setAttribute("target",Ct),ft&&ft!==ee.BLANK_URL&&Je.click()}}else this.eventManager.fire({type:f.RiveEvent,data:Ke})}Fe.advanceAndApply(w)}this.animator.stateMachines.length==0&&this.artboard.advance(w);var G=this.renderer;G.clear(),G.save(),this.alignRenderer(),this._hasZeroSize||this.artboard.draw(G),G.restore(),G.flush(),this.animator.handleLooping(),this.animator.handleStateChanges(),this.animator.handleAdvancing(w),this.frameCount++;var pe=performance.now();for(this.frameTimes.push(pe),this.durations.push(pe-h);this.frameTimes[0]<=pe-1e3;)this.frameTimes.shift(),this.durations.shift();(u=this._viewModelInstance)===null||u===void 0||u.handleCallbacks(),this.animator.isPlaying?this.startRendering():this.animator.isPaused?this.lastRenderTime=0:this.animator.isStopped&&(this.lastRenderTime=0)},a.prototype.alignRenderer=function(){var n=this,i=n.renderer,u=n.runtime,h=n._layout,w=n.artboard;i.align(h.runtimeFit(u),h.runtimeAlignment(u),{minX:h.minX,minY:h.minY,maxX:h.maxX,maxY:h.maxY},w.bounds,this._devicePixelRatioUsed*h.layoutScaleFactor)},Object.defineProperty(a.prototype,"fps",{get:function(){return this.durations.length},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"frameTime",{get:function(){return this.durations.length===0?0:(this.durations.reduce(function(n,i){return n+i},0)/this.durations.length).toFixed(4)},enumerable:!1,configurable:!0}),a.prototype.cleanup=function(){var n,i;this.destroyed=!0,this.stopRendering(),this.cleanupInstances(),this._observed!==null&&j.remove(this._observed),this.removeRiveListeners(),this.file&&((n=this.riveFile)===null||n===void 0||n.cleanup(),this.file=null),this.riveFile=null,this.deleteRiveRenderer(),this._audioEventListener!==null&&(M.remove(this._audioEventListener),this._audioEventListener=null),(i=this._viewModelInstance)===null||i===void 0||i.cleanup(),this._viewModelInstance=null,this._dataEnums=null},a.prototype.deleteRiveRenderer=function(){var n;(n=this.renderer)===null||n===void 0||n.delete(),this.renderer=null},a.prototype.cleanupInstances=function(){this.eventCleanup!==null&&this.eventCleanup(),this.stop(),this.artboard&&(this.artboard.delete(),this.artboard=null)},a.prototype.retrieveTextRun=function(n){var i;if(!n){console.warn("No text run name provided");return}if(!this.artboard){console.warn("Tried to access text run, but the Artboard is null");return}var u=this.artboard.textRun(n);if(!u){console.warn("Could not access a text run with name '".concat(n,"' in the '").concat((i=this.artboard)===null||i===void 0?void 0:i.name,"' Artboard. Note that you must rename a text run node in the Rive editor to make it queryable at runtime."));return}return u},a.prototype.getTextRunValue=function(n){var i=this.retrieveTextRun(n);return i?i.text:void 0},a.prototype.setTextRunValue=function(n,i){var u=this.retrieveTextRun(n);u&&(u.text=i)},a.prototype.play=function(n,i){var u=this;if(n=Ue(n),!this.readyForPlaying){this.taskQueue.add({action:function(){return u.play(n,i)}});return}this.animator.play(n),this.eventCleanup&&this.eventCleanup(),this.setupRiveListeners(),this.startRendering()},a.prototype.pause=function(n){var i=this;if(n=Ue(n),!this.readyForPlaying){this.taskQueue.add({action:function(){return i.pause(n)}});return}this.eventCleanup&&this.eventCleanup(),this.animator.pause(n)},a.prototype.scrub=function(n,i){var u=this;if(n=Ue(n),!this.readyForPlaying){this.taskQueue.add({action:function(){return u.scrub(n,i)}});return}this.animator.scrub(n,i||0),this.drawFrame()},a.prototype.stop=function(n){var i=this;if(n=Ue(n),!this.readyForPlaying){this.taskQueue.add({action:function(){return i.stop(n)}});return}this.animator&&this.animator.stop(n),this.eventCleanup&&this.eventCleanup()},a.prototype.reset=function(n){var i,u,h=n==null?void 0:n.artboard,w=Ue(n==null?void 0:n.animations),R=Ue(n==null?void 0:n.stateMachines),Y=(i=n==null?void 0:n.autoplay)!==null&&i!==void 0?i:!1,J=(u=n==null?void 0:n.autoBind)!==null&&u!==void 0?u:!1;this.cleanupInstances(),this.initArtboard(h,w,R,Y,J),this.taskQueue.process()},a.prototype.load=function(n){this.file=null,this.stop(),this.init(n)},Object.defineProperty(a.prototype,"layout",{get:function(){return this._layout},set:function(n){this._layout=n,(!n.maxX||!n.maxY)&&this.resizeToCanvas(),this.loaded&&!this.animator.isPlaying&&this.drawFrame()},enumerable:!1,configurable:!0}),a.prototype.resizeToCanvas=function(){this._layout=this.layout.copyWith({minX:0,minY:0,maxX:this.canvas.width,maxY:this.canvas.height})},a.prototype.resizeDrawingSurfaceToCanvas=function(n){if(this.canvas instanceof HTMLCanvasElement&&window){var i=this.canvas.getBoundingClientRect(),u=i.width,h=i.height,w=n||window.devicePixelRatio||1;if(this.devicePixelRatioUsed=w,this.canvas.width=w*u,this.canvas.height=w*h,this.resizeToCanvas(),this.drawFrame(),this.layout.fit===we.Layout){var R=this._layout.layoutScaleFactor;this.artboard.width=u/R,this.artboard.height=h/R}}},Object.defineProperty(a.prototype,"source",{get:function(){return this.src},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"activeArtboard",{get:function(){return this.artboard?this.artboard.name:""},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"animationNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var n=[],i=0;i<this.artboard.animationCount();i++)n.push(this.artboard.animationByIndex(i).name);return n},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"stateMachineNames",{get:function(){if(!this.loaded||!this.artboard)return[];for(var n=[],i=0;i<this.artboard.stateMachineCount();i++)n.push(this.artboard.stateMachineByIndex(i).name);return n},enumerable:!1,configurable:!0}),a.prototype.stateMachineInputs=function(n){if(this.loaded){var i=this.animator.stateMachines.find(function(u){return u.name===n});return i==null?void 0:i.inputs}},a.prototype.retrieveInputAtPath=function(n,i){if(!n){console.warn("No input name provided for path '".concat(i,"'"));return}if(!this.artboard){console.warn("Tried to access input: '".concat(n,"', at path: '").concat(i,"', but the Artboard is null"));return}var u=this.artboard.inputByPath(n,i);if(!u){console.warn("Could not access an input with name: '".concat(n,"', at path:'").concat(i,"'"));return}return u},a.prototype.setBooleanStateAtPath=function(n,i,u){var h=this.retrieveInputAtPath(n,u);h&&(h.type===Ie.Boolean?h.asBool().value=i:console.warn("Input with name: '".concat(n,"', at path:'").concat(u,"' is not a boolean")))},a.prototype.setNumberStateAtPath=function(n,i,u){var h=this.retrieveInputAtPath(n,u);h&&(h.type===Ie.Number?h.asNumber().value=i:console.warn("Input with name: '".concat(n,"', at path:'").concat(u,"' is not a number")))},a.prototype.fireStateAtPath=function(n,i){var u=this.retrieveInputAtPath(n,i);u&&(u.type===Ie.Trigger?u.asTrigger().fire():console.warn("Input with name: '".concat(n,"', at path:'").concat(i,"' is not a trigger")))},a.prototype.retrieveTextAtPath=function(n,i){if(!n){console.warn("No text name provided for path '".concat(i,"'"));return}if(!i){console.warn("No path provided for text '".concat(n,"'"));return}if(!this.artboard){console.warn("Tried to access text: '".concat(n,"', at path: '").concat(i,"', but the Artboard is null"));return}var u=this.artboard.textByPath(n,i);if(!u){console.warn("Could not access text with name: '".concat(n,"', at path:'").concat(i,"'"));return}return u},a.prototype.getTextRunValueAtPath=function(n,i){var u=this.retrieveTextAtPath(n,i);if(!u){console.warn("Could not get text with name: '".concat(n,"', at path:'").concat(i,"'"));return}return u.text},a.prototype.setTextRunValueAtPath=function(n,i,u){var h=this.retrieveTextAtPath(n,u);if(!h){console.warn("Could not set text with name: '".concat(n,"', at path:'").concat(u,"'"));return}h.text=i},Object.defineProperty(a.prototype,"playingStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(n){return n.playing}).map(function(n){return n.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"playingAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(n){return n.playing}).map(function(n){return n.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"pausedAnimationNames",{get:function(){return this.loaded?this.animator.animations.filter(function(n){return!n.playing}).map(function(n){return n.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"pausedStateMachineNames",{get:function(){return this.loaded?this.animator.stateMachines.filter(function(n){return!n.playing}).map(function(n){return n.name}):[]},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isPlaying",{get:function(){return this.animator.isPlaying},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isPaused",{get:function(){return this.animator.isPaused},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isStopped",{get:function(){return this.animator.isStopped},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"bounds",{get:function(){return this.artboard?this.artboard.bounds:void 0},enumerable:!1,configurable:!0}),a.prototype.on=function(n,i){this.eventManager.add({type:n,callback:i})},a.prototype.off=function(n,i){this.eventManager.remove({type:n,callback:i})},a.prototype.unsubscribe=function(n,i){console.warn("This function is deprecated: please use `off()` instead."),this.off(n,i)},a.prototype.removeAllRiveEventListeners=function(n){this.eventManager.removeAll(n)},a.prototype.unsubscribeAll=function(n){console.warn("This function is deprecated: please use `removeAllRiveEventListeners()` instead."),this.removeAllRiveEventListeners(n)},a.prototype.stopRendering=function(){this.loaded&&this.frameRequestId&&(this.runtime.cancelAnimationFrame?this.runtime.cancelAnimationFrame(this.frameRequestId):cancelAnimationFrame(this.frameRequestId),this.frameRequestId=null)},a.prototype.startRendering=function(){this.loaded&&this.artboard&&!this.frameRequestId&&(this.runtime.requestAnimationFrame?this.frameRequestId=this.runtime.requestAnimationFrame(this._boundDraw):this.frameRequestId=requestAnimationFrame(this._boundDraw))},a.prototype.enableFPSCounter=function(n){this.runtime.enableFPSCounter(n)},a.prototype.disableFPSCounter=function(){this.runtime.disableFPSCounter()},Object.defineProperty(a.prototype,"contents",{get:function(){if(this.loaded){for(var n={artboards:[]},i=0;i<this.file.artboardCount();i++){for(var u=this.file.artboardByIndex(i),h={name:u.name,animations:[],stateMachines:[]},w=0;w<u.animationCount();w++){var R=u.animationByIndex(w);h.animations.push(R.name)}for(var Y=0;Y<u.stateMachineCount();Y++){for(var J=u.stateMachineByIndex(Y),N=J.name,oe=new this.runtime.StateMachineInstance(J,u),me=[],Ne=0;Ne<oe.inputCount();Ne++){var Fe=oe.input(Ne);me.push({name:Fe.name,type:Fe.type})}h.stateMachines.push({name:N,inputs:me})}n.artboards.push(h)}return n}},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"volume",{get:function(){return this.artboard&&this.artboard.volume!==this._volume&&(this._volume=this.artboard.volume),this._volume},set:function(n){this._volume=n,this.artboard&&(this.artboard.volume=n*M.systemVolume)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"artboardWidth",{get:function(){var n;return this.artboard?this.artboard.width:(n=this._artboardWidth)!==null&&n!==void 0?n:0},set:function(n){this._artboardWidth=n,this.artboard&&(this.artboard.width=n)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"artboardHeight",{get:function(){var n;return this.artboard?this.artboard.height:(n=this._artboardHeight)!==null&&n!==void 0?n:0},set:function(n){this._artboardHeight=n,this.artboard&&(this.artboard.height=n)},enumerable:!1,configurable:!0}),a.prototype.resetArtboardSize=function(){this.artboard?(this.artboard.resetArtboardSize(),this._artboardWidth=this.artboard.width,this._artboardHeight=this.artboard.height):(this._artboardWidth=void 0,this._artboardHeight=void 0)},Object.defineProperty(a.prototype,"devicePixelRatioUsed",{get:function(){return this._devicePixelRatioUsed},set:function(n){this._devicePixelRatioUsed=n},enumerable:!1,configurable:!0}),a.prototype.bindViewModelInstance=function(n){var i;this.artboard&&!this.destroyed&&n&&n.runtimeInstance&&(n.internalIncrementReferenceCount(),(i=this._viewModelInstance)===null||i===void 0||i.cleanup(),this._viewModelInstance=n,this.animator.stateMachines.length>0?this.animator.stateMachines.forEach(function(u){return u.bindViewModelInstance(n)}):this.artboard.bindViewModelInstance(n.runtimeInstance))},Object.defineProperty(a.prototype,"viewModelInstance",{get:function(){return this._viewModelInstance},enumerable:!1,configurable:!0}),a.prototype.viewModelByIndex=function(n){var i=this.file.viewModelByIndex(n);return i!==null?new X(i):null},a.prototype.viewModelByName=function(n){var i=this.file.viewModelByName(n);return i!==null?new X(i):null},a.prototype.enums=function(){if(this._dataEnums===null){var n=this.file.enums();this._dataEnums=n.map(function(i){return new ve(i)})}return this._dataEnums},a.prototype.defaultViewModel=function(){if(this.artboard){var n=this.file.defaultArtboardViewModel(this.artboard);if(n)return new X(n)}return null},a.prototype.getArtboard=function(n){var i,u;return(u=(i=this.riveFile)===null||i===void 0?void 0:i.getArtboard(n))!==null&&u!==void 0?u:null},a.missingErrorMessage="Rive source file or data buffer required",a.cleanupErrorMessage="Attempt to use file after calling cleanup.",a}(),X=function(){function a(n){this._viewModel=n}return Object.defineProperty(a.prototype,"instanceCount",{get:function(){return this._viewModel.instanceCount},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"name",{get:function(){return this._viewModel.name},enumerable:!1,configurable:!0}),a.prototype.instanceByIndex=function(n){var i=this._viewModel.instanceByIndex(n);return i!==null?new Pe(i,null):null},a.prototype.instanceByName=function(n){var i=this._viewModel.instanceByName(n);return i!==null?new Pe(i,null):null},a.prototype.defaultInstance=function(){var n=this._viewModel.defaultInstance();return n!==null?new Pe(n,null):null},a.prototype.instance=function(){var n=this._viewModel.instance();return n!==null?new Pe(n,null):null},Object.defineProperty(a.prototype,"properties",{get:function(){return this._viewModel.getProperties()},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"instanceNames",{get:function(){return this._viewModel.getInstanceNames()},enumerable:!1,configurable:!0}),a}(),ve=function(){function a(n){this._dataEnum=n}return Object.defineProperty(a.prototype,"name",{get:function(){return this._dataEnum.name},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"values",{get:function(){return this._dataEnum.values},enumerable:!1,configurable:!0}),a}(),K;(function(a){a.Number="number",a.String="string",a.Boolean="boolean",a.Color="color",a.Trigger="trigger",a.Enum="enum",a.List="list",a.Image="image",a.Artboard="artboard"})(K||(K={}));var Pe=function(){function a(n,i){this._parents=[],this._children=[],this._viewModelInstances=new Map,this._propertiesWithCallbacks=[],this._referenceCount=0,this._runtimeInstance=n,i!==null&&this._parents.push(i)}return Object.defineProperty(a.prototype,"runtimeInstance",{get:function(){return this._runtimeInstance},enumerable:!1,configurable:!0}),a.prototype.handleCallbacks=function(){this._propertiesWithCallbacks.length!==0&&(this._propertiesWithCallbacks.forEach(function(n){n.handleCallbacks()}),this._propertiesWithCallbacks.forEach(function(n){n.clearChanges()})),this._children.forEach(function(n){return n.handleCallbacks()})},a.prototype.addParent=function(n){this._parents.includes(n)||(this._parents.push(n),(this._propertiesWithCallbacks.length>0||this._children.length>0)&&n.addToViewModelCallbacks(this))},a.prototype.removeParent=function(n){var i=this._parents.indexOf(n);if(i!==-1){var u=this._parents[i];u.removeFromViewModelCallbacks(this),this._parents.splice(i,1)}},a.prototype.addToPropertyCallbacks=function(n){var i=this;this._propertiesWithCallbacks.includes(n)||(this._propertiesWithCallbacks.push(n),this._propertiesWithCallbacks.length>0&&this._parents.forEach(function(u){u.addToViewModelCallbacks(i)}))},a.prototype.removeFromPropertyCallbacks=function(n){var i=this;this._propertiesWithCallbacks.includes(n)&&(this._propertiesWithCallbacks=this._propertiesWithCallbacks.filter(function(u){return u!==n}),this._children.length===0&&this._propertiesWithCallbacks.length===0&&this._parents.forEach(function(u){u.removeFromViewModelCallbacks(i)}))},a.prototype.addToViewModelCallbacks=function(n){var i=this;this._children.includes(n)||(this._children.push(n),this._parents.forEach(function(u){u.addToViewModelCallbacks(i)}))},a.prototype.removeFromViewModelCallbacks=function(n){var i=this;this._children.includes(n)&&(this._children=this._children.filter(function(u){return u!==n}),this._children.length===0&&this._propertiesWithCallbacks.length===0&&this._parents.forEach(function(u){u.removeFromViewModelCallbacks(i)}))},a.prototype.clearCallbacks=function(){this._propertiesWithCallbacks.forEach(function(n){n.clearCallbacks()})},a.prototype.propertyFromPath=function(n,i){var u=n.split("/");return this.propertyFromPathSegments(u,0,i)},a.prototype.viewModelFromPathSegments=function(n,i){var u=this.internalViewModelInstance(n[i]);return u!==null?i==n.length-1?u:u.viewModelFromPathSegments(n,i++):null},a.prototype.propertyFromPathSegments=function(n,i,u){var h,w,R,Y,J,N,oe,me,Ne,Fe,ot,qe,Ke,Je,et,At,Ct,ft;if(i<n.length-1){var G=this.internalViewModelInstance(n[i]);return G!==null?G.propertyFromPathSegments(n,i+1,u):null}var pe=null;switch(u){case K.Number:if(pe=(w=(h=this._runtimeInstance)===null||h===void 0?void 0:h.number(n[i]))!==null&&w!==void 0?w:null,pe!==null)return new Te(pe,this);break;case K.String:if(pe=(Y=(R=this._runtimeInstance)===null||R===void 0?void 0:R.string(n[i]))!==null&&Y!==void 0?Y:null,pe!==null)return new Be(pe,this);break;case K.Boolean:if(pe=(N=(J=this._runtimeInstance)===null||J===void 0?void 0:J.boolean(n[i]))!==null&&N!==void 0?N:null,pe!==null)return new je(pe,this);break;case K.Color:if(pe=(me=(oe=this._runtimeInstance)===null||oe===void 0?void 0:oe.color(n[i]))!==null&&me!==void 0?me:null,pe!==null)return new Ce(pe,this);break;case K.Trigger:if(pe=(Fe=(Ne=this._runtimeInstance)===null||Ne===void 0?void 0:Ne.trigger(n[i]))!==null&&Fe!==void 0?Fe:null,pe!==null)return new $(pe,this);break;case K.Enum:if(pe=(qe=(ot=this._runtimeInstance)===null||ot===void 0?void 0:ot.enum(n[i]))!==null&&qe!==void 0?qe:null,pe!==null)return new ce(pe,this);break;case K.List:if(pe=(Je=(Ke=this._runtimeInstance)===null||Ke===void 0?void 0:Ke.list(n[i]))!==null&&Je!==void 0?Je:null,pe!==null)return new Ve(pe,this);break;case K.Image:if(pe=(At=(et=this._runtimeInstance)===null||et===void 0?void 0:et.image(n[i]))!==null&&At!==void 0?At:null,pe!==null)return new mt(pe,this);break;case K.Artboard:if(pe=(ft=(Ct=this._runtimeInstance)===null||Ct===void 0?void 0:Ct.artboard(n[i]))!==null&&ft!==void 0?ft:null,pe!==null)return new rt(pe,this);break}return null},a.prototype.internalViewModelInstance=function(n){var i;if(this._viewModelInstances.has(n))return this._viewModelInstances.get(n);var u=(i=this._runtimeInstance)===null||i===void 0?void 0:i.viewModel(n);if(u!==null){var h=new a(u,this);return h.internalIncrementReferenceCount(),this._viewModelInstances.set(n,h),h}return null},a.prototype.number=function(n){var i=this.propertyFromPath(n,K.Number);return i},a.prototype.string=function(n){var i=this.propertyFromPath(n,K.String);return i},a.prototype.boolean=function(n){var i=this.propertyFromPath(n,K.Boolean);return i},a.prototype.color=function(n){var i=this.propertyFromPath(n,K.Color);return i},a.prototype.trigger=function(n){var i=this.propertyFromPath(n,K.Trigger);return i},a.prototype.enum=function(n){var i=this.propertyFromPath(n,K.Enum);return i},a.prototype.list=function(n){var i=this.propertyFromPath(n,K.List);return i},a.prototype.image=function(n){var i=this.propertyFromPath(n,K.Image);return i},a.prototype.artboard=function(n){var i=this.propertyFromPath(n,K.Artboard);return i},a.prototype.viewModel=function(n){var i=n.split("/"),u=i.length>1?this.viewModelFromPathSegments(i.slice(0,i.length-1),0):this;return u!=null?u.internalViewModelInstance(i[i.length-1]):null},a.prototype.internalReplaceViewModel=function(n,i){var u;if(i.runtimeInstance!==null){var h=((u=this._runtimeInstance)===null||u===void 0?void 0:u.replaceViewModel(n,i.runtimeInstance))||!1;if(h){i.internalIncrementReferenceCount();var w=this.internalViewModelInstance(n);w!==null&&(w.removeParent(this),this._children.includes(w)&&(this._children=this._children.filter(function(R){return R!==w})),w.cleanup()),this._viewModelInstances.set(n,i),i.addParent(this)}return h}return!1},a.prototype.replaceViewModel=function(n,i){var u,h=n.split("/"),w=h.length>1?this.viewModelFromPathSegments(h.slice(0,h.length-1),0):this;return(u=w==null?void 0:w.internalReplaceViewModel(h[h.length-1],i))!==null&&u!==void 0?u:!1},a.prototype.incrementReferenceCount=function(){var n;this._referenceCount++,(n=this._runtimeInstance)===null||n===void 0||n.incrementReferenceCount()},a.prototype.decrementReferenceCount=function(){var n;this._referenceCount--,(n=this._runtimeInstance)===null||n===void 0||n.decrementReferenceCount()},Object.defineProperty(a.prototype,"properties",{get:function(){var n;return((n=this._runtimeInstance)===null||n===void 0?void 0:n.getProperties().map(function(i){return se({},i)}))||[]},enumerable:!1,configurable:!0}),a.prototype.internalIncrementReferenceCount=function(){this._referenceCount++},a.prototype.cleanup=function(){var n=this;if(this._referenceCount--,this._referenceCount<=0){this._runtimeInstance=null,this.clearCallbacks(),this._propertiesWithCallbacks=[],this._viewModelInstances.forEach(function(h){h.cleanup()}),this._viewModelInstances.clear();var i=Le([],this._children,!0);this._children.length=0;var u=Le([],this._parents,!0);this._parents.length=0,i.forEach(function(h){h.removeParent(n)}),u.forEach(function(h){h.removeFromViewModelCallbacks(n)})}},a}(),_e=function(){function a(n,i){this.callbacks=[],this._viewModelInstanceValue=n,this._parentViewModel=i}return a.prototype.on=function(n){this.callbacks.length===0&&this._viewModelInstanceValue.clearChanges(),this.callbacks.includes(n)||(this.callbacks.push(n),this._parentViewModel.addToPropertyCallbacks(this))},a.prototype.off=function(n){n?this.callbacks=this.callbacks.filter(function(i){return i!==n}):this.callbacks.length=0,this.callbacks.length===0&&this._parentViewModel.removeFromPropertyCallbacks(this)},a.prototype.internalHandleCallback=function(n){},a.prototype.handleCallbacks=function(){var n=this;this._viewModelInstanceValue.hasChanged&&this.callbacks.forEach(function(i){n.internalHandleCallback(i)})},a.prototype.clearChanges=function(){this._viewModelInstanceValue.clearChanges()},a.prototype.clearCallbacks=function(){this.callbacks.length=0},Object.defineProperty(a.prototype,"name",{get:function(){return this._viewModelInstanceValue.name},enumerable:!1,configurable:!0}),a}(),Be=function(a){ae(n,a);function n(i,u){return a.call(this,i,u)||this}return Object.defineProperty(n.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(i){this._viewModelInstanceValue.value=i},enumerable:!1,configurable:!0}),n.prototype.internalHandleCallback=function(i){i(this.value)},n}(_e),Te=function(a){ae(n,a);function n(i,u){return a.call(this,i,u)||this}return Object.defineProperty(n.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(i){this._viewModelInstanceValue.value=i},enumerable:!1,configurable:!0}),n.prototype.internalHandleCallback=function(i){i(this.value)},n}(_e),je=function(a){ae(n,a);function n(i,u){return a.call(this,i,u)||this}return Object.defineProperty(n.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(i){this._viewModelInstanceValue.value=i},enumerable:!1,configurable:!0}),n.prototype.internalHandleCallback=function(i){i(this.value)},n}(_e),$=function(a){ae(n,a);function n(i,u){return a.call(this,i,u)||this}return n.prototype.trigger=function(){return this._viewModelInstanceValue.trigger()},n.prototype.internalHandleCallback=function(i){i()},n}(_e),ce=function(a){ae(n,a);function n(i,u){return a.call(this,i,u)||this}return Object.defineProperty(n.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(i){this._viewModelInstanceValue.value=i},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"valueIndex",{get:function(){return this._viewModelInstanceValue.valueIndex},set:function(i){this._viewModelInstanceValue.valueIndex=i},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"values",{get:function(){return this._viewModelInstanceValue.values},enumerable:!1,configurable:!0}),n.prototype.internalHandleCallback=function(i){i(this.value)},n}(_e),Ve=function(a){ae(n,a);function n(i,u){return a.call(this,i,u)||this}return Object.defineProperty(n.prototype,"length",{get:function(){return this._viewModelInstanceValue.size},enumerable:!1,configurable:!0}),n.prototype.addInstance=function(i){i.runtimeInstance!=null&&(this._viewModelInstanceValue.addInstance(i.runtimeInstance),i.addParent(this._parentViewModel))},n.prototype.addInstanceAt=function(i,u){return i.runtimeInstance!=null&&this._viewModelInstanceValue.addInstanceAt(i.runtimeInstance,u)?(i.addParent(this._parentViewModel),!0):!1},n.prototype.removeInstance=function(i){i.runtimeInstance!=null&&(this._viewModelInstanceValue.removeInstance(i.runtimeInstance),i.removeParent(this._parentViewModel))},n.prototype.removeInstanceAt=function(i){this._viewModelInstanceValue.removeInstanceAt(i)},n.prototype.instanceAt=function(i){var u=this._viewModelInstanceValue.instanceAt(i);if(u!=null){var h=new Pe(u,this._parentViewModel);return h}return null},n.prototype.swap=function(i,u){this._viewModelInstanceValue.swap(i,u)},n.prototype.internalHandleCallback=function(i){i()},n}(_e),Ce=function(a){ae(n,a);function n(i,u){return a.call(this,i,u)||this}return Object.defineProperty(n.prototype,"value",{get:function(){return this._viewModelInstanceValue.value},set:function(i){this._viewModelInstanceValue.value=i},enumerable:!1,configurable:!0}),n.prototype.rgb=function(i,u,h){this._viewModelInstanceValue.rgb(i,u,h)},n.prototype.rgba=function(i,u,h,w){this._viewModelInstanceValue.argb(w,i,u,h)},n.prototype.argb=function(i,u,h,w){this._viewModelInstanceValue.argb(i,u,h,w)},n.prototype.alpha=function(i){this._viewModelInstanceValue.alpha(i)},n.prototype.opacity=function(i){this._viewModelInstanceValue.alpha(Math.round(Math.max(0,Math.min(1,i))*255))},n.prototype.internalHandleCallback=function(i){i(this.value)},n}(_e),mt=function(a){ae(n,a);function n(i,u){return a.call(this,i,u)||this}return Object.defineProperty(n.prototype,"value",{set:function(i){var u;this._viewModelInstanceValue.value((u=i==null?void 0:i.nativeImage)!==null&&u!==void 0?u:null)},enumerable:!1,configurable:!0}),n.prototype.internalHandleCallback=function(i){i()},n}(_e),rt=function(a){ae(n,a);function n(i,u){return a.call(this,i,u)||this}return Object.defineProperty(n.prototype,"value",{set:function(i){var u;this._viewModelInstanceValue.value((u=i==null?void 0:i.nativeArtboard)!==null&&u!==void 0?u:null)},enumerable:!1,configurable:!0}),n.prototype.internalHandleCallback=function(i){i()},n}(_e),St=function(a){return H(void 0,void 0,void 0,function(){var n,i,u;return c(this,function(h){switch(h.label){case 0:return n=new Request(a),[4,fetch(n)];case 1:return i=h.sent(),[4,i.arrayBuffer()];case 2:return u=h.sent(),[2,u]}})})},Ue=function(a){return typeof a=="string"?[a]:a instanceof Array?a:[]},jt={EventManager:A,TaskQueueManager:g},Vt=function(a){return H(void 0,void 0,void 0,function(){var n,i,u;return c(this,function(h){switch(h.label){case 0:return n=new Promise(function(w){return Ae.getInstance(function(R){R.decodeAudio(a,w)})}),[4,n];case 1:return i=h.sent(),u=new ee.AudioWrapper(i),ee.finalizationRegistry.register(u,i),[2,u]}})})},Ut=function(a){return H(void 0,void 0,void 0,function(){var n,i,u;return c(this,function(h){switch(h.label){case 0:return n=new Promise(function(w){return Ae.getInstance(function(R){R.decodeImage(a,w)})}),[4,n];case 1:return i=h.sent(),u=new ee.ImageWrapper(i),ee.finalizationRegistry.register(u,i),[2,u]}})})},it=function(a){return H(void 0,void 0,void 0,function(){var n,i,u;return c(this,function(h){switch(h.label){case 0:return n=new Promise(function(w){return Ae.getInstance(function(R){R.decodeFont(a,w)})}),[4,n];case 1:return i=h.sent(),u=new ee.FontWrapper(i),ee.finalizationRegistry.register(u,i),[2,u]}})})}})(),Se})())})(Lr);var ii=Lr.exports;(function(Me){Object.defineProperty(Me,"__esModule",{value:!0});var O=Et,ke=ii;function Qe(f){return f&&typeof f=="object"&&"default"in f?f:{default:f}}var Re=Qe(O),Se=function(){return Se=Object.assign||function(f){for(var _,A=1,g=arguments.length;A<g;A++)for(var y in _=arguments[A])Object.prototype.hasOwnProperty.call(_,y)&&(f[y]=_[y]);return f},Se.apply(this,arguments)};function le(f,_){var A={};for(var g in f)Object.prototype.hasOwnProperty.call(f,g)&&_.indexOf(g)<0&&(A[g]=f[g]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function"){var y=0;for(g=Object.getOwnPropertySymbols(f);y<g.length;y++)_.indexOf(g[y])<0&&Object.prototype.propertyIsEnumerable.call(f,g[y])&&(A[g[y]]=f[g[y]])}return A}function q(f,_,A,g){return new(A||(A=Promise))(function(y,L){function M(V){try{C(g.next(V))}catch(j){L(j)}}function B(V){try{C(g.throw(V))}catch(j){L(j)}}function C(V){var j;V.done?y(V.value):(j=V.value,j instanceof A?j:new A(function(Z){Z(j)})).then(M,B)}C((g=g.apply(f,_||[])).next())})}function Q(f,_){var A,g,y,L,M={label:0,sent:function(){if(1&y[0])throw y[1];return y[1]},trys:[],ops:[]};return L={next:B(0),throw:B(1),return:B(2)},typeof Symbol=="function"&&(L[Symbol.iterator]=function(){return this}),L;function B(C){return function(V){return function(j){if(A)throw new TypeError("Generator is already executing.");for(;M;)try{if(A=1,g&&(y=2&j[0]?g.return:j[0]?g.throw||((y=g.return)&&y.call(g),0):g.next)&&!(y=y.call(g,j[1])).done)return y;switch(g=0,y&&(j=[2&j[0],y.value]),j[0]){case 0:case 1:y=j;break;case 4:return M.label++,{value:j[1],done:!1};case 5:M.label++,g=j[1],j=[0];continue;case 7:j=M.ops.pop(),M.trys.pop();continue;default:if(y=M.trys,!((y=y.length>0&&y[y.length-1])||j[0]!==6&&j[0]!==2)){M=0;continue}if(j[0]===3&&(!y||j[1]>y[0]&&j[1]<y[3])){M.label=j[1];break}if(j[0]===6&&M.label<y[1]){M.label=y[1],y=j;break}if(y&&M.label<y[2]){M.label=y[2],M.ops.push(j);break}y[2]&&M.ops.pop(),M.trys.pop();continue}j=_.call(f,M)}catch(Z){j=[6,Z],g=0}finally{A=y=0}if(5&j[0])throw j[1];return{value:j[0]?j[1]:void 0,done:!0}}([C,V])}}}function ee(f){var _=f||ae(),A=O.useState(_),g=A[0],y=A[1];return O.useEffect(function(){if(typeof window<"u"&&"matchMedia"in window){var L=function(){var B=f||ae();y(B)},M=window.matchMedia("screen and (resolution: ".concat(g,"dppx)"));return M.hasOwnProperty("addEventListener")?M.addEventListener("change",L):M.addListener(L),function(){M.hasOwnProperty("removeEventListener")?M.removeEventListener("change",L):M.removeListener(L)}}},[g,f]),g}function ae(){var f=typeof window<"u"&&typeof window.devicePixelRatio=="number"?window.devicePixelRatio:1;return Math.min(Math.max(1,f),3)}var se=function(){function f(){}return f.prototype.observe=function(){},f.prototype.unobserve=function(){},f.prototype.disconnect=function(){},f}(),H=globalThis.ResizeObserver||se,c=globalThis.ResizeObserver!==void 0,Le=!c;function Oe(f,_){_===void 0&&(_=!0);var A=O.useState({width:0,height:0}),g=A[0],y=A[1];O.useEffect(function(){if(typeof window<"u"&&_){var V=function(){y({width:window.innerWidth,height:window.innerHeight})};return Le&&(V(),window.addEventListener("resize",V)),function(){return window.removeEventListener("resize",V)}}},[]);var L,M,B,C=O.useRef(new H((L=function(V){c&&y({width:V[V.length-1].contentRect.width,height:V[V.length-1].contentRect.height})},M=0,B=0,function(){for(var V=this,j=[],Z=0;Z<arguments.length;Z++)j[Z]=arguments[Z];clearTimeout(B),B=window.setTimeout(function(){return L.apply(V,j)},M)})));return O.useEffect(function(){var V=C.current;if(_){var j=f.current;return f.current&&c&&V.observe(f.current),function(){V.disconnect(),j&&c&&V.unobserve(j)}}V.disconnect()},[f,C]),g}var Ge={useDevicePixelRatio:!0,fitCanvasToArtboardHeight:!1,useOffscreenRenderer:!0,shouldResizeCanvasToContainer:!0};function we(f){return Object.assign({},Ge,f)}function be(f){var _=f.riveLoaded,A=_!==void 0&&_,g=f.canvasElem,y=f.containerRef,L=f.options,M=L===void 0?{}:L,B=f.onCanvasHasResized,C=f.artboardBounds,V=we(M),j=O.useState({height:0,width:0}),Z=j[0],z=Z.height,X=Z.width,ve=j[1],K=O.useState({height:0,width:0}),Pe=K[0],_e=Pe.height,Be=Pe.width,Te=K[1],je=O.useState(!0),$=je[0],ce=je[1],Ve=V.fitCanvasToArtboardHeight,Ce=V.shouldResizeCanvasToContainer,mt=V.useDevicePixelRatio,rt=V.customDevicePixelRatio,St=Oe(y,Ce),Ue=ee(rt),jt=C??{},Vt=jt.maxX,Ut=jt.maxY,it=O.useCallback(function(){var a,n,i,u,h=(n=(a=y.current)===null||a===void 0?void 0:a.clientWidth)!==null&&n!==void 0?n:0,w=(u=(i=y.current)===null||i===void 0?void 0:i.clientHeight)!==null&&u!==void 0?u:0;return Ve&&C?{width:h,height:h*(C.maxY/C.maxX)}:{width:h,height:w}},[y,Ve,Vt,Ut]);O.useEffect(function(){if(Ce&&y.current&&A){var a=it(),n=a.width,i=a.height,u=!1;if(g){var h=n!==X||i!==z;if(V.fitCanvasToArtboardHeight&&h&&(y.current.style.height=i+"px",u=!0),V.useDevicePixelRatio){if(h||n*Ue!==Be||i*Ue!==_e){var w=Ue*n,R=Ue*i;g.width=w,g.height=R,g.style.width=n+"px",g.style.height=i+"px",Te({width:w,height:R}),u=!0}}else h&&(g.width=n,g.height=i,Te({width:n,height:i}),u=!0);ve({width:n,height:i})}B&&($||u)&&B&&B(),$&&ce(!1)}},[g,y,St,Ue,it,$,ce,_e,Be,z,X,B,Ce,Ve,mt,A]),O.useEffect(function(){Te({width:0,height:0})},[g])}var We,Ae=function(){function f(){}return f.prototype.observe=function(){},f.prototype.unobserve=function(){},f.prototype.disconnect=function(){},f}(),Ie=globalThis.IntersectionObserver||Ae,De=function(){function f(){var _=this;this.elementsMap=new Map,this.onObserved=function(A){A.forEach(function(g){var y=_.elementsMap.get(g.target);y&&y(g)})},this.observer=new Ie(this.onObserved)}return f.prototype.registerCallback=function(_,A){this.observer.observe(_),this.elementsMap.set(_,A)},f.prototype.removeCallback=function(_){this.observer.unobserve(_),this.elementsMap.delete(_)},f}(),Ye=function(){return We||(We=new De),We};function ct(f){var _=f.setContainerRef,A=f.setCanvasRef,g=f.className,y=g===void 0?"":g,L=f.style,M=f.children,B=le(f,["setContainerRef","setCanvasRef","className","style","children"]),C=Se({width:"100%",height:"100%"},L);return Re.default.createElement("div",Se({ref:_,className:y},!y&&{style:C}),Re.default.createElement("canvas",Se({ref:A,style:{verticalAlign:"top",width:0,height:0}},B),M))}function W(f,_){_===void 0&&(_={});var A=O.useState(null),g=A[0],y=A[1],L=O.useRef(null),M=O.useRef(null),B=O.useState(null),C=B[0],V=B[1],j=!!f,Z=we(_),z=ee(),X=O.useCallback(function(){if(C){if(C.layout&&C.layout.fit===ke.Fit.Layout&&g){var $=z*C.layout.layoutScaleFactor;C.devicePixelRatioUsed=z,C.artboardWidth=(g==null?void 0:g.width)/$,C.artboardHeight=(g==null?void 0:g.height)/$}C.startRendering(),C.resizeToCanvas()}},[C,z]);be({riveLoaded:!!C,canvasElem:g,containerRef:L,options:Z,onCanvasHasResized:X,artboardBounds:C==null?void 0:C.bounds});var ve=O.useCallback(function($){$===null&&g&&(g.height=0,g.width=0),y($)},[]);O.useEffect(function(){if(g&&f){var $,ce=C!=null;if(C==null){var Ve=Z.useOffscreenRenderer,Ce=f.onRiveReady,mt=le(f,["onRiveReady"]);$=new ke.Rive(Se(Se({useOffscreenRenderer:Ve},mt),{canvas:g})),M.current!=null&&M.current.cleanup(),M.current=$,$.on(ke.EventType.Load,function(){ce=!0,Ce&&Ce($),g?V($):$.cleanup()})}return function(){ce||$==null||$.cleanup()}}},[g,j,C]);var K=O.useCallback(function($){L.current=$},[]),Pe={observe:O.useCallback(function($,ce){Ye().registerCallback($,ce)},[]),unobserve:O.useCallback(function($){Ye().removeCallback($)},[])},_e=Pe.observe,Be=Pe.unobserve;O.useEffect(function(){var $,ce=!1,Ve=function(){if(g&&ce){var Ce=g.getBoundingClientRect();Ce.width>0&&Ce.height>0&&Ce.top<(window.innerHeight||document.documentElement.clientHeight)&&Ce.bottom>0&&Ce.left<(window.innerWidth||document.documentElement.clientWidth)&&Ce.right>0&&(C==null||C.startRendering(),ce=!1)}};return g&&Z.shouldUseIntersectionObserver!==!1&&_e(g,function(Ce){Ce.isIntersecting?C&&C.startRendering():C&&C.stopRendering(),ce=!Ce.isIntersecting,clearTimeout($),Ce.isIntersecting||Ce.boundingClientRect.width!==0||($=setTimeout(Ve,10))}),function(){g&&Be(g)}},[_e,Be,C,g,Z.shouldUseIntersectionObserver]),O.useEffect(function(){return function(){C&&(C.cleanup(),V(null))}},[C,g]),O.useEffect(function(){return function(){M.current!=null&&M.current.cleanup()}},[]);var Te=f==null?void 0:f.animations;O.useEffect(function(){C&&Te&&(C.isPlaying?(C.stop(C.animationNames),C.play(Te)):C.isPaused&&(C.stop(C.animationNames),C.pause(Te)))},[Te,C]);var je=O.useCallback(function($){return Re.default.createElement(ct,Se({setContainerRef:K,setCanvasRef:ve},$))},[ve,K]);return{canvas:g,container:L.current,setCanvasRef:ve,setContainerRef:K,rive:C,RiveComponent:je}}function T(f,_,A){var g=O.useState(null),y=g[0],L=g[1],M=O.useState(A.defaultValue),B=M[0],C=M[1],V=O.useState(null),j=V[0],Z=V[1],z=O.useRef(null),X=O.useRef(f),ve=O.useRef(A);O.useEffect(function(){ve.current=A},[A]);var K=O.useCallback(function(){var Te=z.current,je=X.current,$=ve.current;if(!Te||!je)return L(null),C($.defaultValue),Z(null),function(){};var ce=$.getProperty(Te,je);if(ce){L(ce),C($.getValue(ce)),$.getExtendedData&&Z($.getExtendedData(ce));var Ve=function(){C($.getValue(ce)),$.getExtendedData&&Z($.getExtendedData(ce)),$.onPropertyEvent&&$.onPropertyEvent()};return ce.on(Ve),function(){ce.off(Ve)}}return function(){}},[]);O.useEffect(function(){return z.current=_,X.current=f,K()},[_,f,K]);var Pe=O.useCallback(function(Te){if(y&&z.current===_)try{return Te(y),void(ve.current.getExtendedData&&Z(ve.current.getExtendedData(y)))}catch{}if(z.current)try{var je=ve.current.getProperty(z.current,X.current);je&&(L(je),Te(je),ve.current.getExtendedData&&Z(ve.current.getExtendedData(je)))}catch{}},[y,_]),_e=O.useMemo(function(){return ve.current.buildPropertyOperations(Pe)},[Pe]),Be=Se({value:B},_e);return A.getExtendedData&&(Be.extendedData=j),Be}Me.default=function(f){var _=f.src,A=f.artboard,g=f.animations,y=f.stateMachines,L=f.layout,M=f.useOffscreenRenderer,B=M===void 0||M,C=f.shouldDisableRiveListeners,V=C!==void 0&&C,j=f.shouldResizeCanvasToContainer,Z=j===void 0||j,z=f.automaticallyHandleEvents,X=z!==void 0&&z,ve=f.children,K=le(f,["src","artboard","animations","stateMachines","layout","useOffscreenRenderer","shouldDisableRiveListeners","shouldResizeCanvasToContainer","automaticallyHandleEvents","children"]),Pe=W({src:_,artboard:A,animations:g,layout:L,stateMachines:y,autoplay:!0,shouldDisableRiveListeners:V,automaticallyHandleEvents:X},{useOffscreenRenderer:B,shouldResizeCanvasToContainer:Z}).RiveComponent;return Re.default.createElement(Pe,Se({},K),ve)},Me.useResizeCanvas=be,Me.useRive=W,Me.useRiveFile=function(f){var _=this,A=O.useState(null),g=A[0],y=A[1],L=O.useState("idle"),M=L[0],B=L[1];return O.useEffect(function(){var C=null;return q(_,void 0,void 0,function(){return Q(this,function(V){try{B("loading"),(C=new ke.RiveFile(f)).init(),C.on(ke.EventType.Load,function(){C==null||C.getInstance(),y(C),B("success")}),C.on(ke.EventType.LoadError,function(){B("failed")}),y(C)}catch(j){console.error(j),B("failed")}return[2]})}),function(){C==null||C.cleanup()}},[f.src,f.buffer]),{riveFile:g,status:M}},Me.useStateMachineInput=function(f,_,A,g){var y=O.useState(null),L=y[0],M=y[1];return O.useEffect(function(){function B(){if(f&&_&&A||M(null),f&&_&&A){var C=f.stateMachineInputs(_);if(C){var V=C.find(function(j){return j.name===A});g!==void 0&&V&&(V.value=g),M(V||null)}}else M(null)}B(),f&&f.on(ke.EventType.Load,function(){B()})},[f]),L},Me.useViewModel=function(f,_){var A=_??{},g=A.name,y=A.useDefault,L=y!==void 0&&y,M=O.useState(null),B=M[0],C=M[1];return O.useEffect(function(){function V(){var j;if(f){var Z=null;Z=g!=null?((j=f.viewModelByName)===null||j===void 0?void 0:j.call(f,g))||null:f.defaultViewModel()||null,C(Z)}else C(null)}return V(),f&&f.on(ke.EventType.Load,V),function(){f&&f.off(ke.EventType.Load,V)}},[f,g,L]),B},Me.useViewModelInstance=function(f,_){var A=_??{},g=A.name,y=A.useDefault,L=y!==void 0&&y,M=A.useNew,B=M!==void 0&&M,C=A.rive,V=O.useState(null),j=V[0],Z=V[1];return O.useEffect(function(){var z,X,ve;if(f){var K=null;K=g!=null?f.instanceByName(g)||null:L?((z=f.defaultInstance)===null||z===void 0?void 0:z.call(f))||null:B?((X=f.instance)===null||X===void 0?void 0:X.call(f))||null:((ve=f.defaultInstance)===null||ve===void 0?void 0:ve.call(f))||null,Z(K),C&&K&&C.viewModelInstance!==K&&C.bindViewModelInstance(K)}else Z(null)},[f,g,L,B,C]),j},Me.useViewModelInstanceArtboard=function(f,_){return{setValue:T(f,_,{getProperty:O.useCallback(function(A,g){return A.artboard(g)},[]),getValue:O.useCallback(function(){},[]),defaultValue:null,buildPropertyOperations:O.useCallback(function(A){return{setValue:function(g){A(function(y){y.value=g})}}},[])}).setValue}},Me.useViewModelInstanceBoolean=function(f,_){var A=T(f,_,{getProperty:O.useCallback(function(g,y){return g.boolean(y)},[]),getValue:O.useCallback(function(g){return g.value},[]),defaultValue:null,buildPropertyOperations:O.useCallback(function(g){return{setValue:function(y){g(function(L){L.value=y})}}},[])});return{value:A.value,setValue:A.setValue}},Me.useViewModelInstanceColor=function(f,_){var A=T(f,_,{getProperty:O.useCallback(function(g,y){return g.color(y)},[]),getValue:O.useCallback(function(g){return g.value},[]),defaultValue:null,buildPropertyOperations:O.useCallback(function(g){return{setValue:function(y){g(function(L){L.value=y})},setRgb:function(y,L,M){g(function(B){B.rgb(y,L,M)})},setRgba:function(y,L,M,B){g(function(C){C.rgba(y,L,M,B)})},setAlpha:function(y){g(function(L){L.alpha(y)})},setOpacity:function(y){g(function(L){L.opacity(y)})}}},[])});return{value:A.value,setValue:A.setValue,setRgb:A.setRgb,setRgba:A.setRgba,setAlpha:A.setAlpha,setOpacity:A.setOpacity}},Me.useViewModelInstanceEnum=function(f,_){var A=T(f,_,{getProperty:O.useCallback(function(g,y){return g.enum(y)},[]),getValue:O.useCallback(function(g){return g.value},[]),defaultValue:null,getExtendedData:O.useCallback(function(g){return g.values},[]),buildPropertyOperations:O.useCallback(function(g){return{setValue:function(y){g(function(L){L.value=y})}}},[])});return{value:A.value,values:A.extendedData||[],setValue:A.setValue}},Me.useViewModelInstanceImage=function(f,_){return{setValue:T(f,_,{getProperty:O.useCallback(function(A,g){return A.image(g)},[]),getValue:O.useCallback(function(){},[]),defaultValue:null,buildPropertyOperations:O.useCallback(function(A){return{setValue:function(g){A(function(y){y.value=g})}}},[])}).setValue}},Me.useViewModelInstanceList=function(f,_){var A,g=O.useState(0)[1],y=T(f,_,{getProperty:O.useCallback(function(L,M){return L.list(M)},[]),getValue:O.useCallback(function(L){return L.length},[]),defaultValue:null,onPropertyEvent:function(){g(function(L){return L+1})},buildPropertyOperations:O.useCallback(function(L){return{addInstance:function(M){L(function(B){return B.addInstance(M)})},addInstanceAt:function(M,B){var C=!1;return L(function(V){C=V.addInstanceAt(M,B)}),C},removeInstance:function(M){L(function(B){return B.removeInstance(M)})},removeInstanceAt:function(M){L(function(B){return B.removeInstanceAt(M)})},getInstanceAt:function(M){var B=null;return L(function(C){B=C.instanceAt(M)}),B},swap:function(M,B){L(function(C){return C.swap(M,B)})}}},[])});return{length:(A=y.value)!==null&&A!==void 0?A:0,addInstance:y.addInstance,addInstanceAt:y.addInstanceAt,removeInstance:y.removeInstance,removeInstanceAt:y.removeInstanceAt,getInstanceAt:y.getInstanceAt,swap:y.swap}},Me.useViewModelInstanceNumber=function(f,_){var A=T(f,_,{getProperty:O.useCallback(function(g,y){return g.number(y)},[]),getValue:O.useCallback(function(g){return g.value},[]),defaultValue:null,buildPropertyOperations:O.useCallback(function(g){return{setValue:function(y){g(function(L){L.value=y})}}},[])});return{value:A.value,setValue:A.setValue}},Me.useViewModelInstanceString=function(f,_){var A=T(f,_,{getProperty:O.useCallback(function(g,y){return g.string(y)},[]),getValue:O.useCallback(function(g){return g.value},[]),defaultValue:null,buildPropertyOperations:O.useCallback(function(g){return{setValue:function(y){g(function(L){L.value=y})}}},[])});return{value:A.value,setValue:A.setValue}},Me.useViewModelInstanceTrigger=function(f,_,A){var g=(A??{}).onTrigger;return{trigger:T(f,_,{getProperty:O.useCallback(function(y,L){return y.trigger(L)},[]),getValue:O.useCallback(function(){},[]),defaultValue:null,onPropertyEvent:g,buildPropertyOperations:O.useCallback(function(y){return{trigger:function(){y(function(L){L.trigger()})}}},[])}).trigger}},Object.keys(ke).forEach(function(f){f==="default"||Me.hasOwnProperty(f)||Object.defineProperty(Me,f,{enumerable:!0,get:function(){return ke[f]}})})})(Zt);function ai({className:Me="",mouseInputX:O=0,mouseInputY:ke=0}){const Qe=Et.useRef(null),{rive:Re,RiveComponent:Se}=Zt.useRive({src:"edidev.riv",stateMachines:"default",autoplay:!0,layout:new Zt.Layout({fit:Zt.Fit.Contain,alignment:Zt.Alignment.Center})});return Et.useEffect(()=>{if(Re){const le=Re.stateMachineInputs("default"),q=le.find(ee=>ee.name==="x"),Q=le.find(ee=>ee.name==="y");q&&(q.value=O),Q&&(Q.value=-ke)}},[Re,O,ke]),Fr.jsx("div",{className:`${Me} relative`,children:Fr.jsx(Se,{ref:Qe})})}function si(){const[Me,O]=Et.useState({x:0,y:0,normalizedX:0,normalizedY:0,inputX:0,inputY:0}),ke=Et.useRef(Me),Qe=Et.useRef(),Re=Et.useCallback((Se,le)=>{const{innerWidth:q,innerHeight:Q}=window,ee=Se/q*2-1,ae=le/Q*2-1,se=ee*50,H=ae*50,c={x:Se,y:le,normalizedX:ee,normalizedY:ae,inputX:se,inputY:H},Le=2;(Math.abs(c.x-ke.current.x)>Le||Math.abs(c.y-ke.current.y)>Le)&&(ke.current=c,O(c))},[]);return Et.useEffect(()=>{const Se=le=>{Qe.current&&cancelAnimationFrame(Qe.current),Qe.current=requestAnimationFrame(()=>{Re(le.clientX,le.clientY)})};return document.addEventListener("mousemove",Se,{passive:!0}),()=>{document.removeEventListener("mousemove",Se),Qe.current&&cancelAnimationFrame(Qe.current)}},[Re]),Me}export{ai as A,si as u};
